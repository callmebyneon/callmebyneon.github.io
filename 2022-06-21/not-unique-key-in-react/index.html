<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.23.1"/><meta data-react-helmet="true" name="description" content="Warning: Each child in a list should have a unique &quot;key&quot; prop."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="⚠ NOT unique key"/><meta data-react-helmet="true" property="og:description" content="Warning: Each child in a list should have a unique &quot;key&quot; prop."/><meta data-react-helmet="true" property="og:image" content="⚛"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="⚠ NOT unique key"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="⚠ NOT unique key"/><meta data-react-helmet="true" name="twitter:description" content="Warning: Each child in a list should have a unique &quot;key&quot; prop."/><meta data-react-helmet="true" name="twitter:image" content="⚛"/><meta data-react-helmet="true" name="twitter:site" content="@callmebyneon"/><meta data-react-helmet="true" name="twitter:creator" content="@callmebyneon"/><meta data-react-helmet="true" name="theme-color" content="#f6f6f6"/><title data-react-helmet="true">⚠ NOT unique key</title><link data-react-helmet="true" rel="preconnect" href="https://fonts.googleapis.com"/><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="stylesheet" as="style" crossorigin="true" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard-dynamic-subset.css"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="http://callmebyneon.github.io/2022-06-21/not-unique-key-in-react/" data-baseprotocol="http:" data-basehost="callmebyneon.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global mnnv44">:root{--background-color:#f6f6f6;--z-sticky:10;}*{padding:0;margin:0;box-sizing:border-box;font-family:Pretendard,-apple-system,BlinkMacSystemFont,system-ui,Roboto,'Helvetica Neue','Segoe UI','Apple SD Gothic Neo','Noto Sans KR','Malgun Gothic','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol',sans-serif;}html,body,#___gatsby{height:100%;font-size:16px;background-color:var(--background-color);}@media (max-width: 768px){html,body,#___gatsby{font-size:14px;}}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}code[class*='language-'],pre[class*='language-'],code[class*='language-'] *,pre[class*='language-'] *{font-family:'Noto Sans Mono',monospace;}small{font-size:0.875rem;}img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><style data-emotion="css 1082qq3">.css-1082qq3{display:block;width:100%;}</style><nav class="css-1082qq3 e1md2nih1"><style data-emotion="css 1kpck90">.css-1kpck90{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:1200px;margin:0 auto;height:100px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-1kpck90>a{display:block;margin-left:2.5em;font-size:1.25rem;font-weight:700;border-bottom:1px solid;}.css-1kpck90>a svg{font-size:0.8em;}@media (max-width: 768px){.css-1kpck90{width:100%;height:80px;padding:2rem;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}.css-1kpck90>a{margin-left:0;margin-right:2em;}}</style><div class="css-1kpck90 e1md2nih0"><a href="/">Blog</a><a href="/portfolio">Portfolio</a><a rel="noopener" href="https://github.com/callmebyneon" target="_blank">Github <!-- --><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" class="svg-inline--fa fa-arrow-up-right-from-square " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"></path></svg></a></div></nav><style data-emotion="css jor0o8">.css-jor0o8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="css-jor0o8 e6b6ljm1"><div class="css-0 e1jthku01"><style data-emotion="css 1rlcym4">.css-1rlcym4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:260px;max-height:calc(100vh - 80px);margin:0 80px 30px 0;padding:0;position:-webkit-sticky;position:sticky;left:calc(50vw - (768px / 2) - 260px);top:56px;word-break:keep-all;overflow-y:scroll;}.css-1rlcym4 li{list-style:none;display:block;width:96%;color:#aaa;line-height:2;font-size:14px;font-weight:400;}.css-1rlcym4 li>a{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}@media (hover: hover){.css-1rlcym4 li:hover{font-weight:700;color:rgb(64, 107, 159);border-width:2px;}}.css-1rlcym4 li>ul>li{margin-left:0.5em;padding-left:1em;border-left:1px solid;}.css-1rlcym4 li>ul>li>ul>li{margin-left:0.5em;padding-left:1em;border-left:1px solid;}@media (max-width: 1300px){.css-1rlcym4{display:none;}}</style><div class="css-1rlcym4 e1jthku00"><ul>
<li>
<p><a href="#what-is-not-unique-key-prop-in-react">What is <em>NOT unique</em> key prop in React</a></p>
<ul>
<li>
<p><a href="#-introduction">👉 introduction</a></p>
</li>
<li>
<p><a href="#-key%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0">👉 key가 필요한 경우</a></p>
</li>
<li>
<p><a href="#-not-unique-key">👉 not unique key</a></p>
<ul>
<li><a href="#1-no-key-prop">1. no key prop</a></li>
<li><a href="#2-same-key-in-the-siblings">2. same key in the siblings</a></li>
<li><a href="#3-use-index">3. use index</a></li>
<li><a href="#4-use-rendering-time">4. use rendering time</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div><style data-emotion="css 4agwq7">.css-4agwq7{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:768px;margin:0;}@media (max-width: 768px){.css-4agwq7{width:100%;}}</style><div class="css-4agwq7 e6b6ljm0"><style data-emotion="css 1m5ve8z">.css-1m5ve8z{position:relative;width:100%;margin:40px 0 100px;}</style><div class="css-1m5ve8z e1opi4mu0"><style data-emotion="css 1mgo80d">.css-1mgo80d{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:1200px;height:100%;margin:0 auto;padding:20px 0;color:#000;}@media (max-width: 1200px){.css-1mgo80d{width:768px;padding:40px 20px;}}@media (max-width: 768px){.css-1mgo80d{width:100%;}}</style><div class="css-1mgo80d e1st1jau3"><style data-emotion="css pinahh">.css-pinahh{margin-bottom:1rem;font-size:14px;}</style><div class="css-pinahh e1st1jau2">2022.06.21.</div><style data-emotion="css i00b3j">.css-i00b3j{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-bottom:1rem;font-size:45px;font-weight:900;}@media (max-width: 768px){.css-i00b3j{font-size:30px;}}</style><div class="css-i00b3j e1st1jau1">⚠ NOT unique key</div><style data-emotion="css 1ehu3dp">.css-1ehu3dp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-top:10px;font-size:1.125rem;font-weight:300;line-height:1.4;}.css-1ehu3dp .tags{font-size:0.875rem;margin-left:1em;text-transform:lowercase;}@media (max-width: 768px){.css-1ehu3dp{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:16px;font-weight:400;}}</style><div class="css-1ehu3dp e1st1jau0"><b class="category">React</b><p class="tags">react / issue / list / unique key</p></div></div></div><style data-emotion="css 1sz5d51">.css-1sz5d51{width:100%;margin:0;}</style><div class="css-1sz5d51 e1ijh0y11"><style data-emotion="css 1ent6x1">.css-1ent6x1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;margin:0;padding:0;word-break:keep-all;white-space:break-space;line-height:1.8;font-size:1rem;font-weight:400;}.css-1ent6x1 p{padding:0.8em 0;}.css-1ent6x1 h1,.css-1ent6x1 h2,.css-1ent6x1 h3{font-weight:700;margin-bottom:1em;}.css-1ent6x1 *+h1,.css-1ent6x1 *+h2,.css-1ent6x1 *+h3{padding-top:2em;}.css-1ent6x1 hr+h1,.css-1ent6x1 hr+h2,.css-1ent6x1 hr+h3{padding-top:0;}.css-1ent6x1 h1{font-size:1.875rem;}.css-1ent6x1 h2{font-size:1.5rem;}.css-1ent6x1 h3{font-size:1.25rem;}.css-1ent6x1 blockquote{margin:30px 0;padding:5px 15px;background:rgba(0, 0, 0, 0.03);border-left:2px solid #000000;font-weight:700;}.css-1ent6x1 ol,.css-1ent6x1 ul{margin-left:20px;padding:20px 0;}.css-1ent6x1 hr{border:1px solid #000000;margin:100px 0;}.css-1ent6x1 a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-1ent6x1 pre[class*='language-']{margin:30px 0;padding:15px 20px;border-radius:12px;overflow:auto;}.css-1ent6x1 pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-1ent6x1 code[class*='language-']{border-radius:4px;padding:2px 6px;}.css-1ent6x1 code[class*='language-'],.css-1ent6x1 pre[class*='language-']{tab-size:2;background-color:#e3e1e1;font-size:0.875rem;font-family:'Noto Sans Mono',monospace;}@media (max-width: 768px){.css-1ent6x1{width:100%;padding:80px 20px;line-height:1.6;}.css-1ent6x1 h1{font-size:23px;}.css-1ent6x1 h2{font-size:20px;}.css-1ent6x1 h3{font-size:17px;}.css-1ent6x1 img{width:100%;}.css-1ent6x1 hr{margin:3.5714rem 0;}}</style><div class="css-1ent6x1 e1ijh0y10"><h1 id="what-is-not-unique-key-prop-in-react" style="position:relative;">What is <em>NOT unique</em> key prop in React<a href="#what-is-not-unique-key-prop-in-react" aria-label="what is not unique key prop in react permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/940a2a9670a12e38804bed3f3ee1d994/aaf92/not-unique-key-in-react-1.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAED/9oADAMBAAIQAxAAAAHHRcwP/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAQUAAAAAAAAAAAAAAAAAABEgIVFh/9oACAEBAAE/IYsTW//aAAwDAQACAAMAAAAQ99//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAQUBAAAAAAAAAAAAAAABABEgITFBgf/aAAgBAQABPxAEZoiDh9juz//Z'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/940a2a9670a12e38804bed3f3ee1d994/a59e9/not-unique-key-in-react-1.webp 192w,
/static/940a2a9670a12e38804bed3f3ee1d994/0ca9f/not-unique-key-in-react-1.webp 384w,
/static/940a2a9670a12e38804bed3f3ee1d994/dc9b9/not-unique-key-in-react-1.webp 768w,
/static/940a2a9670a12e38804bed3f3ee1d994/e2c2f/not-unique-key-in-react-1.webp 1152w,
/static/940a2a9670a12e38804bed3f3ee1d994/f3efb/not-unique-key-in-react-1.webp 1536w,
/static/940a2a9670a12e38804bed3f3ee1d994/0b34d/not-unique-key-in-react-1.webp 1920w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/940a2a9670a12e38804bed3f3ee1d994/150b2/not-unique-key-in-react-1.jpg 192w,
/static/940a2a9670a12e38804bed3f3ee1d994/6985d/not-unique-key-in-react-1.jpg 384w,
/static/940a2a9670a12e38804bed3f3ee1d994/19de6/not-unique-key-in-react-1.jpg 768w,
/static/940a2a9670a12e38804bed3f3ee1d994/4472f/not-unique-key-in-react-1.jpg 1152w,
/static/940a2a9670a12e38804bed3f3ee1d994/d58d1/not-unique-key-in-react-1.jpg 1536w,
/static/940a2a9670a12e38804bed3f3ee1d994/aaf92/not-unique-key-in-react-1.jpg 1920w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/jpeg"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/940a2a9670a12e38804bed3f3ee1d994/19de6/not-unique-key-in-react-1.jpg"
            alt="not unique key error message"
            title="not unique key error message"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h2 id="-introduction" style="position:relative;">👉 introduction<a href="#-introduction" aria-label=" introduction permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>처음 이 에러를 마주했을 때, List라는 단어에 넘어가 아래와 같은 코드에는 key를 주지 않았다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> colorChips <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>color<span class="token punctuation">.</span>name<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>당연히 에러가 발생했고 무시도 해봤지만 콘솔창에 자리만 차지하는 이 에러를 더이상 두고 볼 수가 없었다.
여기저기 key 값을 추가해보기도 하고 구글에도 검색해보면서 key 값을 추가할 때 무엇을 생각해야하는지 적어놓기로 했다.</p>
<h2 id="-key가-필요한-경우" style="position:relative;">👉 key가 필요한 경우<a href="#-key%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0" aria-label=" key가 필요한 경우 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>React 공식 문서에서는 key를 다음과 같이 설명한다.</p>
<blockquote>
<p>(ENG) A “key” is a special string attribute you need to include when creating lists of elements.<br>
(KOR) “key”는 엘리먼트 리스트를 만들 때 포함해야 하는 특수한 문자열 어트리뷰트입니다.</p>
</blockquote>
<p>따라서 에러가 말하고 있는 “key” prop은 배열을 JSX에서 렌더할 때 <strong>리스트 형태로 만들어지는 엘리먼트</strong>가 가져야할 고유한 값을 말한다. return 값이 배열인 메소드를 사용하여 엘리먼트를 만들었을 때, return된 배열의 각 아이템 최상위에 각각을 구별할 수 있도록 key prop이 추가되어야 하는 것을 의미한다.</p>
<p>이 에러가 발생하지 않는 unique key의 조건은 렌더 시 반복되는 siblings 사이에서 유일할 것이므로, 아래와 같이 작성해도 에러는 발생하지 않는다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> todoItems <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token punctuation">{</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>List<span class="token operator">></span>
  	<span class="token operator">&lt;</span>ul<span class="token operator">></span>
  	  <span class="token punctuation">{</span>todoItems<span class="token punctuation">}</span>
  	  <span class="token operator">&lt;</span>li<span class="token operator">></span>empty<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
  	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">></span>
<span class="token punctuation">)</span></code></pre></div>
<h2 id="-not-unique-key" style="position:relative;">👉 not unique key<a href="#-not-unique-key" aria-label=" not unique key permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>아래에 실제로 작성했던 코드를 바탕으로 한 에러 코드와 안티 패턴들을 추가한다.</p>
<h3 id="1-no-key-prop" style="position:relative;">1. no key prop<a href="#1-no-key-prop" aria-label="1 no key prop permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// ❌ Error</span>
<span class="token keyword">const</span> colorChips <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>color<span class="token punctuation">.</span>name<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 🔺</span>
<span class="token keyword">const</span> colorChips <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>color<span class="token punctuation">.</span>name<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="2-same-key-in-the-siblings" style="position:relative;">2. same key in the siblings<a href="#2-same-key-in-the-siblings" aria-label="2 same key in the siblings permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// ❌ Error</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>List<span class="token operator">></span>
  	<span class="token operator">&lt;</span>ul<span class="token operator">></span>
  	  <span class="token punctuation">{</span>todoItems<span class="token punctuation">}</span>
  	  <span class="token punctuation">{</span>todoItems<span class="token punctuation">}</span>
  	<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">></span>
<span class="token punctuation">)</span>

<span class="token comment">// 🔺</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>List<span class="token operator">></span>
  	<span class="token operator">&lt;</span>ul<span class="token operator">></span>
  	  <span class="token punctuation">{</span>todoItems<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
    <span class="token operator">&lt;</span>ul<span class="token operator">></span>
  	  <span class="token punctuation">{</span>todoItems<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">></span>
<span class="token punctuation">)</span></code></pre></div>
<h3 id="3-use-index" style="position:relative;">3. use index<a href="#3-use-index" aria-label="3 use index permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// 🔺</span>
<span class="token keyword">const</span> navItems <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>to<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ✅</span>
<span class="token keyword">const</span> navItems <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>to<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="4-use-rendering-time" style="position:relative;">4. use rendering time<a href="#4-use-rendering-time" aria-label="4 use rendering time permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// 🔺</span>
<span class="token keyword">const</span> todoItems <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token punctuation">{</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ✅</span>
<span class="token keyword">const</span> <span class="token function-variable function">createNewTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">completed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">gernerateRandomId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  text
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> todoItems <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token punctuation">{</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<hr>
<p>참고:</p>
<ul>
<li><a href="https://ko.reactjs.org/docs/lists-and-keys.html#keys" target="_blank" rel="nofollow">https://ko.reactjs.org/docs/lists-and-keys.html#keys</a></li>
<li><a href="https://ko.reactjs.org/docs/reconciliation.html#recursing-on-children" target="_blank" rel="nofollow">https://ko.reactjs.org/docs/reconciliation.html#recursing-on-children</a></li>
<li><a href="https://robinpokorny.medium.com/index-as-a-key-is-an-anti-pattern-e0349aece318" target="_blank" rel="nofollow">https://robinpokorny.medium.com/index-as-a-key-is-an-anti-pattern-e0349aece318</a></li>
<li><a href="https://velog.io/@jhplus13/%EC%9C%84%EC%8A%A4%ED%83%80%EA%B7%B8%EB%9E%A8-%EA%B0%9C%EB%B0%9C%EB%85%B8%EB%93%9CReact#-unique%ED%95%9C-key" target="_blank" rel="nofollow">https://velog.io/@jhplus13/%EC%9C%84%EC%8A%A4%ED%83%80%EA%B7%B8%EB%9E%A8-%EA%B0%9C%EB%B0%9C%EB%85%B8%EB%93%9CReact#-unique%ED%95%9C-key</a></li>
</ul></div></div></div></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 1xzitl4">.css-1xzitl4{all:unset;display:block;position:fixed;bottom:50%;right:1em;font-size:1.25rem;-webkit-transition:200ms all;transition:200ms all;}@media (hover: hover){.css-1xzitl4:hover{color:rgb(64, 107, 159);}}</style><button title="go to top of this page" class="css-1xzitl4 ej7tdhn0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up" class="svg-inline--fa fa-arrow-up " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"></path></svg></button><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<!-- --><br/>© 2022 Developer 나연, Powered By Gatsby.<!-- --></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2022-06-21/not-unique-key-in-react/";window.___webpackCompilationHash="5c69fb18501c9211fb59";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9fa82aa5b1f9c65f078.js"],"app":["/app-f2c54ddfcf6baef1de0f.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-7984ed6cd1e62c98fbe8.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-fdae1a3eab6feaed7444.js"],"component---src-pages-portfolio-tsx":["/component---src-pages-portfolio-tsx-a08be60cd07649da539b.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-3d77abe2d589e529322b.js"]};/*]]>*/</script><script src="/polyfill-c9fa82aa5b1f9c65f078.js" nomodule=""></script><script src="/app-f2c54ddfcf6baef1de0f.js" async=""></script><script src="/framework-c45ea1cbb39153ed5c73.js" async=""></script><script src="/webpack-runtime-b87317512fee8805cf7f.js" async=""></script></body></html>