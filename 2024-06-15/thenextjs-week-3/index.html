<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.23.1"/><meta data-react-helmet="true" name="description" content="This week I learned : Data Fetching and Caching, Auth with MongoDB"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="[ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° - 3ì£¼ì°¨ ì‚¬ì „ì§ë¬´êµìœ¡"/><meta data-react-helmet="true" property="og:description" content="This week I learned : Data Fetching and Caching, Auth with MongoDB"/><meta data-react-helmet="true" property="og:image" content="ğŸ“ƒ"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="[ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° - 3ì£¼ì°¨ ì‚¬ì „ì§ë¬´êµìœ¡"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="[ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° - 3ì£¼ì°¨ ì‚¬ì „ì§ë¬´êµìœ¡"/><meta data-react-helmet="true" name="twitter:description" content="This week I learned : Data Fetching and Caching, Auth with MongoDB"/><meta data-react-helmet="true" name="twitter:image" content="ğŸ“ƒ"/><meta data-react-helmet="true" name="twitter:site" content="@callmebyneon"/><meta data-react-helmet="true" name="twitter:creator" content="@callmebyneon"/><meta data-react-helmet="true" name="theme-color" content="#f6f6f6"/><style data-href="/styles.bff7a88e5d9515b11f64.css" data-identity="gatsby-global-css">.grvsc-container{-webkit-overflow-scrolling:touch;-webkit-font-feature-settings:normal;font-feature-settings:normal;border-radius:8px;border-radius:var(--grvsc-border-radius,8px);line-height:1.4;overflow:auto;padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));position:relative}.grvsc-code{display:table}.grvsc-line{box-sizing:border-box;display:table-row;width:100%}.grvsc-line,.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem))/2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;user-select:none}.grvsc-gutter:before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty:after{content:" ";-webkit-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem))/2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line:before{content:" ";position:absolute;width:100%}.grvsc-line-diff-add:before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del:before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{opacity:.7;padding:0 2px;text-align:right}</style><title data-react-helmet="true">[ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° - 3ì£¼ì°¨ ì‚¬ì „ì§ë¬´êµìœ¡</title><link data-react-helmet="true" rel="preconnect" href="https://fonts.googleapis.com"/><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Fira+Mono&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="stylesheet" as="style" crossorigin="true" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard-dynamic-subset.css"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="http://callmebyneon.github.io/2024-06-15/thenextjs-week-3/" data-baseprotocol="http:" data-basehost="callmebyneon.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global molkmn">:root{--background-color:#f6f6f6;--z-sticky:10;--z-fixed:20;}*{padding:0;margin:0;box-sizing:border-box;font-family:Pretendard,-apple-system,BlinkMacSystemFont,system-ui,Roboto,'Helvetica Neue','Segoe UI','Apple SD Gothic Neo','Noto Sans KR','Malgun Gothic','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol',sans-serif;}html,body,#___gatsby{height:100%;font-size:16px;background-color:var(--background-color);}@media (max-width: 768px){html,body,#___gatsby{font-size:14px;}}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}code,pre,code *,pre *{font-family:'Fira Mono',source-code-pro,Menlo,Monaco,Consolas,'Courier New',monospace;font-size:14px;}small{font-size:0.875rem;}img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.grvsc-code{width:100%;}</style><style data-emotion="css 1082qq3">.css-1082qq3{display:block;width:100%;}</style><nav class="css-1082qq3 e1md2nih1"><style data-emotion="css ws9ata">.css-ws9ata{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:1200px;margin:0 auto;height:100px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.css-ws9ata>a{display:block;margin-left:2.5em;font-size:1.25rem;font-weight:700;border-bottom:1px solid;}.css-ws9ata>a svg{font-size:0.8em;}@media (max-width: 1200px){.css-ws9ata{width:100%;padding:2rem;}}@media (max-width: 768px){.css-ws9ata{width:100%;height:80px;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}.css-ws9ata>a{margin-left:0;margin-right:2em;}}</style><div class="css-ws9ata e1md2nih0"><a href="/">Blog</a><a rel="noopener" href="https://github.com/callmebyneon" target="_blank">Github â†—</a></div></nav><style data-emotion="css 1ca5thv">.css-1ca5thv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;margin-bottom:80px;}</style><div class="css-1ca5thv e6b6ljm1"><div class="css-0 e1jthku01"><style data-emotion="css ummhh5">.css-ummhh5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:260px;max-height:calc(100vh - 80px);margin:0 80px 30px 0;padding:0;position:-webkit-sticky;position:sticky;left:calc(50vw - (768px / 2) - 260px);top:56px;word-break:keep-all;overflow:hidden auto;}.css-ummhh5 li{list-style:none;display:block;width:96%;color:#aaa;line-height:2;font-size:14px;font-weight:500;}.css-ummhh5 li>a{display:block;padding:0.2em 0;white-space:break-space;line-height:1.4;}@media (hover: hover){.css-ummhh5 li:hover{color:rgb(0, 0, 0);border-width:2px;}}.css-ummhh5 li>ul>li{margin-left:0.5em;padding-left:1em;border-left:1px solid;}.css-ummhh5 li>ul>li>ul>li{margin-left:0.5em;padding-left:1em;border-left:1px solid;}@media (max-width: 1300px){.css-ummhh5{display:none;}}</style><div class="css-ummhh5 e1jthku00"><ul>
<li>
<p><a href="#3%EC%A3%BC%EC%B0%A8">3ì£¼ì°¨</a></p>
<ul>
<li>
<p><a href="#what-i-learned-this-week">What I Learned this week</a></p>
<ul>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%8C%8C%EC%9D%BC">ì‹œìŠ¤í…œ íŒŒì¼</a></li>
<li><a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%B9%AD">ë°ì´í„° íŒ¨ì¹­</a></li>
<li><a href="#%EC%BA%90%EC%8B%B1">ìºì‹±</a></li>
<li><a href="#mongodb-%EC%97%B0%EA%B2%B0-w-mongoose">MongoDB ì—°ê²° (w/ mongoose)</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div><div><style data-emotion="css bp4uue">.css-bp4uue{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:768px;margin:0;}@media (max-width: 768px){.css-bp4uue{width:calc(100vw - 20px * 2);max-width:768px;}}</style><div class="css-bp4uue e6b6ljm0"><style data-emotion="css 5369ht">.css-5369ht{position:relative;width:100%;margin:40px 0 100px;}@media (max-width: 768px){.css-5369ht{margin:40px 0 20px;}}</style><div class="css-5369ht e1opi4mu0"><style data-emotion="css 1ncpj9e">.css-1ncpj9e{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;margin:0 auto;padding:20px 0;color:#000;}@media (max-width: 1200px){.css-1ncpj9e{width:768px;padding:40px 20px;}}@media (max-width: 768px){.css-1ncpj9e{width:100%;}}</style><div class="css-1ncpj9e e1st1jau3"><style data-emotion="css pinahh">.css-pinahh{margin-bottom:1rem;font-size:14px;}</style><div class="css-pinahh e1st1jau2">2024.06.15.</div><style data-emotion="css bqqjyh">.css-bqqjyh{overflow-wrap:break-word;margin-bottom:1rem;font-size:45px;font-weight:900;}@media (max-width: 768px){.css-bqqjyh{font-size:30px;}}</style><div class="css-bqqjyh e1st1jau1">[ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° - 3ì£¼ì°¨ ì‚¬ì „ì§ë¬´êµìœ¡</div><style data-emotion="css 1ehu3dp">.css-1ehu3dp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-top:10px;font-size:1.125rem;font-weight:300;line-height:1.4;}.css-1ehu3dp .tags{font-size:0.875rem;margin-left:1em;text-transform:lowercase;}@media (max-width: 768px){.css-1ehu3dp{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:16px;font-weight:400;}}</style><div class="css-1ehu3dp e1st1jau0"><b class="category">Camp</b><p class="tags">til / b-log / project-camp / nextjs / fetch / cache / route / auth / mongodb</p></div></div></div><style data-emotion="css 1sz5d51">.css-1sz5d51{width:100%;margin:0;}</style><div class="css-1sz5d51 e1ijh0y11"><style data-emotion="css 1voa8q6">.css-1voa8q6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;margin:0;padding:0;word-break:keep-all;white-space:break-space;line-height:1.8;font-size:1rem;font-weight:400;}.css-1voa8q6 p{padding:0.8em 0;}.css-1voa8q6 h1,.css-1voa8q6 h2,.css-1voa8q6 h3{font-weight:700;margin-bottom:1em;}.css-1voa8q6 *+h1,.css-1voa8q6 *+h2,.css-1voa8q6 *+h3{padding-top:2.5em;}.css-1voa8q6 hr+h1,.css-1voa8q6 hr+h2,.css-1voa8q6 hr+h3{padding-top:0;}.css-1voa8q6 h1+:is(ol, ul),.css-1voa8q6 h2+:is(ol, ul),.css-1voa8q6 h3+:is(ol, ul){padding:0;}.css-1voa8q6 h1{font-size:1.875rem;}.css-1voa8q6 h2{font-size:1.5rem;}.css-1voa8q6 h3{font-size:1.25rem;}.css-1voa8q6 blockquote{margin:30px 0;padding:5px 15px;background:rgba(0, 0, 0, 0.03);border-left:2px solid #000000;font-weight:700;}.css-1voa8q6 ol,.css-1voa8q6 ul{margin-left:20px;padding:20px 0;}.css-1voa8q6 li{width:100%;}.css-1voa8q6 li>ul,.css-1voa8q6 li>p+*{padding:8px 0;}.css-1voa8q6 li>pre[data-language]{margin:8px 0;}.css-1voa8q6 hr{border:1px solid #000000;margin:100px 0;}.css-1voa8q6 a{display:inline;width:100%;color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;overflow-wrap:anywhere;word-break:break-word;}.css-1voa8q6 a.anchor.after{display:inline;}.css-1voa8q6 pre[data-language]{margin:30px 0;border-radius:12px;overflow:auto;}.css-1voa8q6 pre[data-language]::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-1voa8q6 pre[data-language] .line-numbers-rows{padding:1em 0;padding-left:8px;}.css-1voa8q6 :not(pre)>code{padding:1px 6px;border-radius:4px;background:#1e1e1e;color:#d4d4d4;}.css-1voa8q6 code,.css-1voa8q6 pre{tab-size:2;}.css-1voa8q6 img{max-width:100%;}.css-1voa8q6 figure figcaption{margin-bottom:1rem;text-align:center;font-size:0.875rem;opacity:0.8;}.css-1voa8q6 table{border-collapse:collapse;}.css-1voa8q6 thead{background-color:#e9e9e9;}.css-1voa8q6 tr{border-bottom:1px solid #e9e9e9;}.css-1voa8q6 th,.css-1voa8q6 td{padding:2px 8px;}.css-1voa8q6 th:not(:last-child),.css-1voa8q6 td:not(:last-child){border-right:1px solid #e9e9e9;}@media (max-width: 768px){.css-1voa8q6{width:100%;padding:80px 20px;line-height:1.6;}.css-1voa8q6 h1{font-size:23px;}.css-1voa8q6 h2{font-size:20px;}.css-1voa8q6 h3{font-size:17px;}.css-1voa8q6 img{width:100%;}.css-1voa8q6 hr{margin:3.5714rem 0;}}</style><div class="css-1voa8q6 e1ijh0y10"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/50f99b9204470d609ac8f571c7bbd67d/a91f8/thenextjs-week-3-cover.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACi0lEQVQoz12KSU9TARhF359S1+5NNC5catygG6dEUcE4YGwZKpZBEGqLFUpBAeUVVFD6aCvWeUATpBqLgBDUiPDaN7U9n2mpcVic3Jt7j3K8RqfIiXIeO/svf3//c+L8Bn9vyqlanSLV7o2sbcngbs7gasqU+pkGnary98ddL3HywhqVNWtUudaoKm9KjTfDuUsZXC0ZWroMum4YdPUbtF038IcNmgNZ3K0bTtGtKbkW7pYczUEIRgSPD+rb8tS1OSi17VncbVkaOrN4uww8PpMGn0V9h4k3YNDoN6i7YuIueu1Z6q4YHG9YoKJ6miOeaTyDs3LQNc3+6pccvjCDcjFg4PGbeIPrRKfijMWSDNx9RziS4n5iinBkluDQHHU+m4uBLI0Bk8Put+yuHJft+0bZvO02W3ZE2LRLla07J1BawyZFLvcZ9N2dZ3zqFWMPX9MzsoSqzaBq7+mOLNMUcmgPW7hCa1zTbIklhH5VZP+Bb7L3mMG+poLsqTBQrqoWftUiMGLjG86XyXFVdUrdrzr4Iw6BEYvOYZseVWfpS14WVoSvPwTPpRUOVK5yqEmXo6d1lFDUoVfLUcoSNr1aodw3KH6hCYeeBw79dzLMLhry7LvOhwVbmqOWNPYW8E6KtIdBGUrmuJkwGXxsM5C0GHySYzDxnRuPTG4mbQYemaX91tMc3W/y9CfzeKI/qXixRP2oTmtKCMaFzvsmnTELRX1p0DH0io7h14QTywTGUnSPPmPg+Trd0Xl6Jz8T0hboi68zMivce18gtSo8toUZXXg+B5NpIbZSIL4IilYcPgtaGopdSxeIpmFyTvj9RT9BX8xh4mOB+Dw4OSSbh4IgqVWR8TQSWRWJLov8AuF3v3H6aYuhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/50f99b9204470d609ac8f571c7bbd67d/a59e9/thenextjs-week-3-cover.webp 192w,
/static/50f99b9204470d609ac8f571c7bbd67d/0ca9f/thenextjs-week-3-cover.webp 384w,
/static/50f99b9204470d609ac8f571c7bbd67d/dc9b9/thenextjs-week-3-cover.webp 768w,
/static/50f99b9204470d609ac8f571c7bbd67d/a6361/thenextjs-week-3-cover.webp 960w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/50f99b9204470d609ac8f571c7bbd67d/3b721/thenextjs-week-3-cover.png 192w,
/static/50f99b9204470d609ac8f571c7bbd67d/66595/thenextjs-week-3-cover.png 384w,
/static/50f99b9204470d609ac8f571c7bbd67d/fe486/thenextjs-week-3-cover.png 768w,
/static/50f99b9204470d609ac8f571c7bbd67d/a91f8/thenextjs-week-3-cover.png 960w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/50f99b9204470d609ac8f571c7bbd67d/fe486/thenextjs-week-3-cover.png"
            alt="í•™ìŠµ íšŒê³ "
            title="í•™ìŠµ íšŒê³ "
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h1 id="3ì£¼ì°¨" style="position:relative;">3ì£¼ì°¨<a href="#3%EC%A3%BC%EC%B0%A8" aria-label="3ì£¼ì°¨ permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h1>
<h2 id="what-i-learned-this-week" style="position:relative;">What I Learned this week<a href="#what-i-learned-this-week" aria-label="what i learned this week permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<ul>
<li>ì•± ë¼ìš°í„°
<ul>
<li>ì‹œìŠ¤í…œ íŒŒì¼</li>
<li>ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬</li>
</ul>
</li>
<li>ë°ì´í„° íŒ¨ì¹­</li>
<li>ìºì‹±</li>
<li>MongoDB ì—°ê²°
<ul>
<li>CRUD</li>
<li>Auth</li>
</ul>
</li>
</ul>
<h3 id="ì‹œìŠ¤í…œ-íŒŒì¼" style="position:relative;">ì‹œìŠ¤í…œ íŒŒì¼<a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%8C%8C%EC%9D%BC" aria-label="ì‹œìŠ¤í…œ íŒŒì¼ permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<ul>
<li><code>layout.tsx</code> íŒŒì¼ì—ì„œ ë©”íƒ€ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ëŸ°íƒ€ì„ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•˜ëŠ” ê²½ìš°, ë©”íƒ€ë°ì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” <code>generateMetadata</code> í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚´ê¸° í•œë‹¤. ì´ <code>generateMetadata</code>ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì¼ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— í˜ì´ì§€ ë¡œë”© ì‹œ í˜„ì¬ í˜ì´ì§€ì˜ ìƒí’ˆ ì •ë³´ë¥¼ title ì†ì„±ì— ì ìš©í•˜ëŠ” ë“±ì˜ fetched dataë¥¼ ì´ìš©í•˜ì—¬ ë©”íƒ€ë°ì´í„°ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ë˜ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•˜ê²Œ <code>{ params }</code>ë¥¼ propsë¡œ ë°›ì•„ì™€ ì´ paramsë¥¼ ì´ìš©í•˜ì—¬ ë™ì  ì„¸ê·¸ë¨¼íŠ¸ì— ë”°ë¼ ë©”íƒ€ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
<ul>
<li>ì´ <code>generateMetadata</code>ëŠ” static <code>metadata</code>ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì§€ì›í•œë‹¤.</li>
</ul>
</li>
<li>ì„¸ê·¸ë¨¼íŠ¸ë“¤ì€ ê°ê° <strong>ë¡œë”© ì»´í¬ë„ŒíŠ¸</strong>ì™€ <strong>ì—ëŸ¬ ì»´í¬ë„ŒíŠ¸</strong>ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ëŠ” ìì‹ ì˜ ë¼ìš°íŠ¸ ê²½ë¡œì™€ ê°€ì¥ ì¸ì ‘í•œ <code>loading.tsx</code>ì™€ <code>error.tsx</code>ë¥¼ ë³´ì—¬ì¤€ë‹¤.
<ul>
<li>í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì˜ ë¡œë”©ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ì„œë²„ ì»´í°ë„ˆíŠ¸ëŠ” í™”ë©´ì€ ì•„ë¬´ ë°˜ì‘ì´ ì—†ëŠ” ìƒíƒœì—ì„œ í™”ë©´ì„ ë³¼ ìˆ˜ ì—†ê³ , ì´ë•Œ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ ë¡œë”©ë˜ëŠ” ì‹œê°„ ë™ì•ˆ ì´ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤€ë‹¤. ì´ í˜ì´ì§€ì— ê°ì ë‹¤ë¥¸ ë Œë”ë§ ì‹œê°„ì„ ê°€ì§„ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ìˆì„ ë•Œ, ì´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ë Œë”ë§ì€ ë³‘ë ¬ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ê°€ì¥ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ ë¡œë”© ì‹œê°„ë§Œí¼ <code>loading.tsx</code>ê°€ ë³´ì—¬ì§€ê²Œ ëœë‹¤. <em><a href="https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming#what-is-streaming" target="_blank" rel="nofollow">(= ìŠ¤íŠ¸ë¦¬ë°: ë¬¸ì„œ#what-is-streaming)</a></em></li>
<li>ì´ ë¡œë”© ì»´í¬ë„ŒíŠ¸ë¡œ ì „ì²´ í™”ë©´ì— ëŒ€í•œ ë¡œë”©ì„ í‘œì‹œí•  ìˆ˜ë„ ìˆì§€ë§Œ reactì˜ <code>&#x3C;Suspense fallback={}>&#x3C;/Suspense></code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ suspense ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¼ ê°ê°ì˜ ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ë©€í‹° ë¡œë”© ì²˜ë¦¬ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤. <code>fallback</code> ì†ì„±ì— ë¡œë”© ì²˜ë¦¬ ì¤‘ ë³´ì—¬ì¤„ ìš”ì†Œ(ì˜ˆ: ìŠ¤ì¼ˆë ˆí†¤)ë¥¼ ì „ë‹¬í•œë‹¤.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b49f039975911f2d098ce80ff6e2ed02/2876f/thenextjs-week-3-streaming.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.020833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABJ0AAASdAHeZh94AAABgUlEQVQoz22R23LkIAxE5/+/M7ExEjeBLMw1ZXsmu5mE6gekrlNCzUNEmDmmlHOe48eZc0rOiTnGuIuMX+4jbhsDxG1LAIdz/2snYsSkddQ6af3P8l6MKTk/mveTeTIfxjTnZkozxhnjiDEaM2I8O8zF2vLtptScKyKPJ5BScY7W9SafsLXjLlMq1sZ1HUR/wC2EpFT4/BSA3/Ag2gHk0h9w9b4i9nU9jOkhvMH9gou1AnAOf4MH0WFMBqjOvU9mvpcSxHrvyNy8f8HMnag610Oor1RGjMm57tzUejhXjOneF2untVPraswFe9+837WuV+y71hlxEg2iEzamas3LUgCmMVkp/vgYV/OEi7U7QFKqWHsGo3VSKiP2G3Zuvz/ZmA4giFGp4tyhVBV5HIg7AC3LHRVrHZZFAHoIN8xKhXUVrdu2CWJYlsPafMPV2h5C8/4OuXvfr/sgOgOztgE0xI44ERtiA+jfz95DyESZSEKQ1/0siQ6Rs3Pp6b60e99K+QKTvuZAlZKc1wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/b49f039975911f2d098ce80ff6e2ed02/a59e9/thenextjs-week-3-streaming.webp 192w,
/static/b49f039975911f2d098ce80ff6e2ed02/0ca9f/thenextjs-week-3-streaming.webp 384w,
/static/b49f039975911f2d098ce80ff6e2ed02/dc9b9/thenextjs-week-3-streaming.webp 768w,
/static/b49f039975911f2d098ce80ff6e2ed02/ece56/thenextjs-week-3-streaming.webp 968w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/b49f039975911f2d098ce80ff6e2ed02/3b721/thenextjs-week-3-streaming.png 192w,
/static/b49f039975911f2d098ce80ff6e2ed02/66595/thenextjs-week-3-streaming.png 384w,
/static/b49f039975911f2d098ce80ff6e2ed02/fe486/thenextjs-week-3-streaming.png 768w,
/static/b49f039975911f2d098ce80ff6e2ed02/2876f/thenextjs-week-3-streaming.png 968w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/b49f039975911f2d098ce80ff6e2ed02/fe486/thenextjs-week-3-streaming.png"
            alt="streaming"
            title="streaming"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
<li>ì—ëŸ¬ ì»´í¬ë„ŒíŠ¸ëŠ” <code>"use client"</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ìœ ì € ì»´í¬ë„ŒíŠ¸(í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸)ì´ë©° <code>{ error: object, reset: () => void }</code> ê°ì²´ë¥¼ propsë¡œ ë°›ì•„ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ <code>props.error.message</code>ë¡œ ì—ëŸ¬ ë©”ì„¸ì§€ì— ì ‘ê·¼í•˜ì—¬ í™”ë©´ì— ì¶œë ¥í•  ìˆ˜ ìˆë‹¤. reset í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì´ì „ì— ì‹¤í–‰í–ˆë˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ì‹œë„í•˜ëŠ”ë°, ì •ìƒì ìœ¼ë¡œ ë‹¤ì‹œ ì‹œë„í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•˜ê¸° ìœ„í•´ì„  ì´ì „ì— ì‹¤í–‰í–ˆë˜ ì»´í¬ë„ŒíŠ¸ ì—­ì‹œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—¬ì•¼ í•œë‹¤.</li>
</ul>
</li>
</ul>
<blockquote>
<p>ë¼ìš°íŒ… ê·¸ë£¹<code>()</code>ì„ ì‚¬ìš©í•˜ë©´ ì•± ë¼ìš°í„°ê°€ ì´ í´ë” ì´ë¦„ì„ ìœ íš¨í•œ ë¼ìš°íŠ¸ ê²½ë¡œë¡œ ê°„ì£¼í•˜ì§€ ì•Šë„ë¡ ëª…ì‹œí•˜ê¸° ë•Œë¬¸ì— <code>(protected)/page.tsx</code>ëŠ” ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. vercelì—ì„œ ë¹Œë“œí•˜ë©° ì•ˆë‚´ëœ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <em><a href="https://github.com/orgs/vercel/discussions/3580#discussioncomment-7510923" target="_blank" rel="nofollow">(ì°¸ê³ )</a></em></p>
</blockquote>
<figure>
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; ">
      <a class="gatsby-resp-image-link" href="/static/a8fb00d23bb373aaaaeb0e420425f960/708e8/thenextjs-week-3-no-page-in-protected.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 21.354166666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAuklEQVQY002M227DIBAFcRxxMbC7PFQNqeTWTpxU5qE/UCn//1WngriRH0bMHo1QSQTnnEFECN7Dew/nHJy1L6wxjf1Wm2GjeooRn8ZAfYwj7mXF7+OB71JwW1do56C6DupwgOp7HI1Br3XztnUdeqMRmFt7tBZBBNrWD0PAhRljJEzE+NpR70kSSs4o7ydcJLVt3ph2zCx4cwPUHAk/knAjbizEuMbn+3TCNRCWWOFX998um99JkIcBfwz7X9CVw1jZAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <picture>
          <source srcset="/static/a8fb00d23bb373aaaaeb0e420425f960/a59e9/thenextjs-week-3-no-page-in-protected.webp 192w,
/static/a8fb00d23bb373aaaaeb0e420425f960/0ca9f/thenextjs-week-3-no-page-in-protected.webp 384w,
/static/a8fb00d23bb373aaaaeb0e420425f960/dc9b9/thenextjs-week-3-no-page-in-protected.webp 768w,
/static/a8fb00d23bb373aaaaeb0e420425f960/e2c2f/thenextjs-week-3-no-page-in-protected.webp 1152w,
/static/a8fb00d23bb373aaaaeb0e420425f960/abbb1/thenextjs-week-3-no-page-in-protected.webp 1218w" sizes="(max-width: 768px) 100vw, 768px" type="image/webp">
          <source srcset="/static/a8fb00d23bb373aaaaeb0e420425f960/3b721/thenextjs-week-3-no-page-in-protected.png 192w,
/static/a8fb00d23bb373aaaaeb0e420425f960/66595/thenextjs-week-3-no-page-in-protected.png 384w,
/static/a8fb00d23bb373aaaaeb0e420425f960/fe486/thenextjs-week-3-no-page-in-protected.png 768w,
/static/a8fb00d23bb373aaaaeb0e420425f960/d2d74/thenextjs-week-3-no-page-in-protected.png 1152w,
/static/a8fb00d23bb373aaaaeb0e420425f960/708e8/thenextjs-week-3-no-page-in-protected.png 1218w" sizes="(max-width: 768px) 100vw, 768px" type="image/png">
          <img class="gatsby-resp-image-image" src="/static/a8fb00d23bb373aaaaeb0e420425f960/fe486/thenextjs-week-3-no-page-in-protected.png" alt="no such file or directory, lstat '**/(admin)/page...'" title="no such file or directory, lstat '**/(admin)/page...'" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;">
        </picture>
  </a>
    </span>
  <figcaption>vercelì—ì„œ ë¹Œë“œ ì¤‘ ë°œìƒí•œ ì˜¤ë¥˜ ë©”ì‹œì§€</figcaption>
</figure>
<h3 id="ë°ì´í„°-íŒ¨ì¹­" style="position:relative;">ë°ì´í„° íŒ¨ì¹­<a href="#%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8C%A8%EC%B9%AD" aria-label="ë°ì´í„° íŒ¨ì¹­ permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<ul>
<li>
<p>í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸(React)ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ,</p>
<ul>
<li><code>useEffect</code>ì—ì„œ ë°ì´í„° íŒ¨ì¹­ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ì¤‘ì— loading stateë¥¼ ì¶”ê°€í•˜ì—¬ ë¡œë”© ì¤‘ì—” ë°ì´í„° ë¡œë”© ì¤‘ì„ì„ ì•Œë ¤ì£¼ê³  ë°ì´í„° íŒ¨ì¹­ì´ ì™„ë£Œëœ í›„ì—ì•¼ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆì§€ë§Œ,</li>
</ul>
</li>
<li>
<p>ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ”,</p>
<ul>
<li>
<p>ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ê°€ ë¹„ë™ê¸°ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— async fucntion ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë°ì´í„° íŒ¨ì¹­ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•œë‹¤. ì´ ì‘ì—…ì€ ì„œë²„ ì‚¬ì´ë“œì—ì„œ ìˆ˜í–‰í•˜ê³  ì™„ë£Œëœ í™”ë©´ì„ ë¸Œë¼ìš°ì €ë¡œ ì „ë‹¬í•´ ë Œë”ë§ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ì— ë”°ë¼ ê³„ì† ë³€í™”í•˜ëŠ” í™”ë©´ì´ ì•„ë‹ˆë¼ë©´ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì™„ì„±ëœ í™”ë©´ì„ ë³„ë„ì˜ ë¡œë”© ì‹œê°„ ì—†ì´ ì‚¬ìš©í•œë‹¤.</p>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="tsx" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// (ì˜ˆì‹œ)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// In Client Component,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;use client&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">useEffect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">useState</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;react&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">type</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">TPost</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">userId</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">number</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">number</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">title</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">body</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">string</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">ClientComp</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> [</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">isLoading</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">setLoading</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">] </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">useState</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">true</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> [</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">posts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">setPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">] </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">useState</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">TPost</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">[]&gt;([])</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> () </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">setLoading</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">true</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">try</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">res</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">fetch</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">data</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">res</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">setPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">data</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">catch</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">error</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">console</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">error</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">error</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">setLoading</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">false</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">useEffect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(() </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }, [])</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">h1</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">className</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;text-xl font-bold&quot;</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">Client Component</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">h1</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">isLoading</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">?</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;Loading...&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      ) </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">pre</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15">JSON</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">stringify</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">posts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">null</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-7 grvsc-t9ljLd-4">2</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">pre</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      )</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// In Server Component,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> () </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">fetch</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)).</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">ServerComp</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">posts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getPosts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">h1</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">className</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;text-xl font-bold&quot;</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">Server Component</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">h1</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">pre</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15">JSON</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">stringify</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">posts</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">null</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-7 grvsc-t9ljLd-4">2</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">pre</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<p><strong>ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ ë°©ì‹ (Route Handler)</strong></p>
<ul>
<li>ì•± ë¼ìš°íŒ… ë°©ì‹ì—ì„œ <code>app/</code> ì•„ë˜ì— api ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  <code>route.ts</code> íŒŒì¼ì„ ì¶”ê°€í•˜ì—¬ ê¸°ë³¸ì ì¸ api í˜¸ì¶œì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì´ GET, POST, PUT, PATCH, DELETE ë©”ì„œë“œë¥¼ ë‚´ë³´ë‚´ë©´ <code>api/</code> ê²½ë¡œë¡œ apië¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li>í˜ì´ì§€ë“¤ì˜ ë¼ìš°íŒ… ë°©ì‹ ê·¸ëŒ€ë¡œ ì¶”ê°€ ê²½ë¡œ í´ë”ë¥¼ ìƒì„±í•˜ê³  <code>route.ts</code>ì—ì„œ ë©”ì„œë“œ í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚´ í•´ë‹¹ ê²½ë¡œë¡œ apië¥¼ í˜¸ì¶œí•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ <code>app/api/movies/route.ts</code>ì—ì„œ ì‘ì„±í•œ GET í˜¸ì¶œ í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code>/api/movies</code>ë¥¼ í†µí•´ ë°ì´í„° íŒ¨ì¹­í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// app/api/route.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">NextRequest</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;next/server&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">GET</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">NextRequest</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì— ì ‘ê·¼</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// (1) request: Request</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// const { searchParams } = new URL(request.url);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// (2) request: NextRequest</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">searchParams</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">nextUrl</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">searchParams</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Response</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;GET METHOD : &#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">+</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">searchParams</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;lang&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">POST</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// body data ì‚¬ìš©</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">data</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Response</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">data</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">PUT</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Response</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;PUT METHOD&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">PATCH</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Response</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;PATCH METHOD&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">DELETE</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Request</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Response</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">json</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;DELETE METHOD&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<h3 id="ìºì‹±" style="position:relative;">ìºì‹±<a href="#%EC%BA%90%EC%8B%B1" aria-label="ìºì‹± permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<ul>
<li>ğŸ–‡ï¸
<ul>
<li><a href="https://nextjs.org/docs/app/building-your-application/caching" target="_blank" rel="nofollow">DOCS - Next.js Caching</a></li>
<li><a href="https://github.com/callmebyneon/learn-nextjs-caching" target="_blank" rel="nofollow">ì˜ˆì‹œ ì½”ë“œ (repo): learn-nextjs-caching</a></li>
</ul>
</li>
</ul>
<p>Next.jsì—ì„œëŠ” ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ í˜ì´ì§€ ë Œë”ë§ê³¼ ë°ì´í„° íŒ¨ì¹­ ìš”ì²­ì„ ìºì‹± í•˜ì—¬ ìµœì í™”í•˜ì—¬ ì‚¬ìš©í•œë‹¤.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/47c88f3abc0d932d30e8b903dc742a38/7ce6e/thenextjs-week-3-caching-summary.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.95833333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAABJ0AAASdAHeZh94AAACGUlEQVQoz32TS28TMRSFs0CN7Xttj5/jeWQmmSQzoTQvFSpKJVSpQhSokFixINAFv4J/jzxJoUURZ+XH+XzPteUBAFhrnffaWaUUIhqVeGe8s85GGWON9dY5rY3WJtFSG6W0UkoNAMB5N6vGm6bLnOeIab0opi/SrCzK0aiq6qpYLsbNuCryrMiLtj7L07IoC+99hJ8NT7Zh8mN5fVOvJKBbfy4vv+nT2zBZdt3i4/Xy1/35zy/b3d3Zer642XxdT9+0866u6wifkOHGj3fd1W21FoDi+a2/2JmX3011loVwsap376f3H2afroqump5P3439wlvvnBuwXpQxBADGTO3zeaGtlVIKIdI0DXk5GZdvt0WilEzkur0cZZOQPYWhH7g2Q4mUUsYYIaQsY99F5lezeBxyqEPrdOCCcy4OMGMMGQCD4rRCgTLrpA0IrGkaa+1weEIIfRAjlEQ/4r/wZDPjCYfEA5dKJWmacs4BGMeDjYOIKeEIzMKi5JJTQggZhhC890NCABjCgw04Y9Haw/AEdvMMBTJhCYU8z/I8J8dhiDAl9HFsXVpApkan0mbeWa01pbS3sn3BfewDrFKDsStAjHOE+GR77Svst3pLP0DRg1GDZtvm81Fi1OtRW9lUqkQKoaslJp72t3ro8GjsZtuZ4JDzV+U8N54LIYWQyvVBDx0BewzjXzix8ScBA8Io65f+RMX/inP+G4JcRMt4c97MAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/47c88f3abc0d932d30e8b903dc742a38/a59e9/thenextjs-week-3-caching-summary.webp 192w,
/static/47c88f3abc0d932d30e8b903dc742a38/0ca9f/thenextjs-week-3-caching-summary.webp 384w,
/static/47c88f3abc0d932d30e8b903dc742a38/dc9b9/thenextjs-week-3-caching-summary.webp 768w,
/static/47c88f3abc0d932d30e8b903dc742a38/f7610/thenextjs-week-3-caching-summary.webp 1003w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/47c88f3abc0d932d30e8b903dc742a38/3b721/thenextjs-week-3-caching-summary.png 192w,
/static/47c88f3abc0d932d30e8b903dc742a38/66595/thenextjs-week-3-caching-summary.png 384w,
/static/47c88f3abc0d932d30e8b903dc742a38/fe486/thenextjs-week-3-caching-summary.png 768w,
/static/47c88f3abc0d932d30e8b903dc742a38/7ce6e/thenextjs-week-3-caching-summary.png 1003w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/47c88f3abc0d932d30e8b903dc742a38/fe486/thenextjs-week-3-caching-summary.png"
            alt="Diagram: the default caching behavior in Next.js for the four mechanisms, with HIT, MISS and SET at build time and when a route is first visited"
            title="Diagram: the default caching behavior in Next.js for the four mechanisms, with HIT, MISS and SET at build time and when a route is first visited"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Next.jsë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“  í˜ì´ì§€ì— <code>new Date().toLocaleTimeString()</code>ê³¼ ê°™ì€ ë°ì´í„°ë¥¼ ì¶œë ¥í–ˆì„ ë•Œ, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³  ë‹¤ë¥¸ ë¼ìš°íŠ¸ë¡œ ì´ë™í•˜ë”ë¼ë„ ê¸°ë³¸ì ìœ¼ë¡œ ì²˜ìŒ í™”ë©´ì— ë³´ì—¬ì¤€ ë°ì´í„°ê°€ ìœ ì§€ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<ol>
<li>ì‚¬ìš©ìê°€ íŠ¹ì • ì •ì  ì„¸ê·¸ë¨¼íŠ¸ì— ì ‘ê·¼í–ˆì„ ë•Œ, í˜ì´ì§€ë¥¼ ì„œë²„ ì‚¬ì´ë“œì—ì„œ íŒŒì‹±í•œ ê²°ê³¼(html ë¬¸ì„œ)ë¥¼ ìºì‹±í•˜ì—¬ ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì´ë™í–ˆë‹¤ê°€ ë‹¤ì‹œ ëŒì•„ì™€ë„ ì²˜ìŒ ìºì‹œì— ì €ì¥í•´ë’€ë˜ í˜ì´ì§€ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤€ë‹¤. (ë™ì  ë¼ìš°íŠ¸ëŠ” ìºì‹œë˜ì§€ ì•ŠëŠ”ë‹¤.)<br>
ì´ë•Œ ë¸Œë¼ìš°ì €(í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ)ëŠ” [ë¼ìš°í„° ìºì‹œ, Router Cache]ì—ì„œ 1ï¸âƒ£ìºì‹± ëœ ë°ì´í„°ë¥¼ ì°¾ì•„ ë°˜í™˜í•˜ê³ , 2ï¸âƒ£ìºì‹± ëœ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ì„œë²„ ì‚¬ì´ë“œì˜ [ì „ì²´ ë¼ìš°í„° ìºì‹œ, Full Router Cache]ì—ì„œ ìºì‹± ëœ ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤.</li>
</ol>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fstatic-and-dynamic-routes.png&#x26;w=1920&#x26;q=75" alt="ì •ì  ë¼ìš°íŠ¸ê°€ ë¹Œë“œë˜ëŠ” ê³¼ì •"></p>
<ol start="2">
<li>
<p>[ë¼ìš°í„° ìºì‹œ]ëŠ” ë¸Œë¼ìš°ì €ê°€ ìƒˆë¡œê³ ì¹¨ë˜ë©´ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì— í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆì„ ë•Œ, [ë¼ìš°í„° ìºì‹œ]ê°€ ì´ˆê¸°í™”ëœ ìƒíƒœì—ì„œ [ì „ì²´ ë¼ìš°í„° ìºì‹œ]ì— ì €ì¥ë˜ì–´ ìˆëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤. [ì „ì²´ ë¼ìš°í„° ìºì‹œ]ì— ì €ì¥ëœ ê°œë³„ ì„¸ê·¸ë¨¼íŠ¸ì˜ ìºì‹œëŠ” íŠ¹ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ë¬´íš¨í™”ë˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ ì •ì  ì„¸ê·¸ë¨¼íŠ¸ëŠ” 5ë¶„ì´ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ë¬´íš¨í™”ë˜ì–´ ì—…ë°ì´íŠ¸ë˜ê³ , ë™ì  ì„¸ê·¸ë¨¼íŠ¸ëŠ” 30ì´ˆë§ˆë‹¤ ë¬´íš¨í™”ë˜ì–´ ê°±ì‹ ëœë‹¤.</p>
</li>
<li>
<p>ë§Œì¼ ê°™ì€ ê²½ë¡œì— ëŒ€í•œ GET ë©”ì„œë“œ ìš”ì²­ì— ëŒ€í•´ [ìš”ì²­ ë©”ëª¨ì´ì œì´ì…˜, Request Memoization]ì„ í†µí•´ ì‘ë‹µì„ ê¸°ì–µí•˜ê³  ì´ë¯¸ ê¸°ì–µí•˜ê³  ìˆëŠ” ì‘ë‹µì€ ì„œë²„ì— ìš”ì²­ì„ ì „ë‹¬í•˜ì§€ ì•Šê³  ìºì‹± ëœ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´ ìš”ì²­ ë©”ëª¨ì´ì œì´ì…˜ì€ Next.jsì—ì„œ ì¶”ê°€ëœ ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ React ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì— ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì¸ page.tsxì™€ layout.tsx ë“± ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ fetch ìš”ì²­ì— ì ìš©ëœë‹¤. ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì¼ë¶€ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œì˜ fetch ìš”ì²­ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>
</li>
</ol>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Frequest-memoization.png&#x26;w=1920&#x26;q=75" alt="Duplicated Fetch Request"></p>
<p>ì´ëŸ¬í•œ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ RootLayoutì˜ generateMetadatì™€ ë£¨íŠ¸ í˜ì´ì§€ì—ì„œ ê°™ì€ ê²½ë¡œë¡œ GET api ìš”ì²­ì„ í•˜ëŠ” ê²½ìš° [ìš”ì²­ ë©”ëª¨ì´ì œì´ì…˜]ë˜ì–´ ì‹¤ì œ ì„œë²„ëŠ” í•œ ë²ˆì˜ ìš”ì²­ë§Œì´ ê¸°ë¡ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<figure>
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; ">
      <a class="gatsby-resp-image-link" href="/static/8eecb615e7b3af7e65cd8e95cc91d652/a6c2c/thenextjs-week-3-request-memoization-1.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 84.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAABJ0AAASdAHeZh94AAACJ0lEQVQ4y42Si27cIBBF/SVNdm0Mw2MegI3xI8lut9so//9BlZ1UlZq2qnQ0AokjLlc0XRr1KC3Fs3Yn7U4m7FPbh8586cxjZx72CY+deVTmQcHDMR8Pmt5HkrGkdUjzOFyn6b7W+1BuSEXiDFQMld5Hg0MfonYCPmlHHWAH2LQGHdO3Uur4ZLkKT4kKUnH5ItNN5q9Ur7Lc09ObrK+YVo8FPLfvcmclDnFc5xAryAzpCWQ2mK1UR5XSbDH7tIa8hPLs0qIcKyfai/ax6SAoJ8pxB9gDKggdoLL0zsf6uGc/Cdhb7nefleUGaEyxLmkiS+yYnaCPHleHRYgiswbkYcY4ujB5rAEXh6WzdNa+MbL4tGmpylJrwknBWZlzb9/7PCk49fas3Vn7U28P3MG+bpSLHOctzeX5tm7Xst2G8izlhbdXWe+y3Klew/js0/Iz/C+a1kVPc8EkUgbKSWrMW0yLjNcwXEAmHVJ3FPGZvW0n0yWOJW/EpXiZQxxoxHyj6eby4ocnLC+8fMNyCTwRTzZIaw5ZAVqkXKbASVvufFYu9S5pnyCMliYrg/bSu51PNzuymXmcZP4qMtm0WKrvxTqcLFWQrCweyX8P36jAtgjlIvM11g1jicPamtAC7pjQmj8/+EOGIpxH2d54/h5oxXSBuOy/jauy8re2DtkzZEp14XKz+QXSBjx2Jvwx5yfZMpCEmPb9r4T0b+1DBkxAWftoQjqI/88PPV22vknVO7cAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <picture>
          <source srcset="/static/8eecb615e7b3af7e65cd8e95cc91d652/a59e9/thenextjs-week-3-request-memoization-1.webp 192w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/0ca9f/thenextjs-week-3-request-memoization-1.webp 384w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/dc9b9/thenextjs-week-3-request-memoization-1.webp 768w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/810ab/thenextjs-week-3-request-memoization-1.webp 822w" sizes="(max-width: 768px) 100vw, 768px" type="image/webp">
          <source srcset="/static/8eecb615e7b3af7e65cd8e95cc91d652/3b721/thenextjs-week-3-request-memoization-1.png 192w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/66595/thenextjs-week-3-request-memoization-1.png 384w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/fe486/thenextjs-week-3-request-memoization-1.png 768w,
/static/8eecb615e7b3af7e65cd8e95cc91d652/a6c2c/thenextjs-week-3-request-memoization-1.png 822w" sizes="(max-width: 768px) 100vw, 768px" type="image/png">
          <img class="gatsby-resp-image-image" src="/static/8eecb615e7b3af7e65cd8e95cc91d652/fe486/thenextjs-week-3-request-memoization-1.png" alt="layout.tsxì™€ page.tsxì—ì„œ ê°™ì€ ê²½ë¡œì˜ GET apië¥¼ ìš”ì²­í•˜ê³  ìˆëŠ” ì½”ë“œ" title="layout.tsxì™€ page.tsxì—ì„œ ê°™ì€ ê²½ë¡œì˜ GET apië¥¼ ìš”ì²­í•˜ê³  ìˆëŠ” ì½”ë“œ" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;">
        </picture>
  </a>
    </span>
  <figcaption>layout.tsxì™€ page.tsxì—ì„œ ê°™ì€ ê²½ë¡œì˜ GET apië¥¼ ìš”ì²­í•˜ê³  ìˆëŠ” ì½”ë“œ</figcaption>
</figure>
<figure>
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 556px; ">
      <a class="gatsby-resp-image-link" href="/static/ab855168018c88e3fd179bd8f1252c39/68b51/thenextjs-week-3-request-memoization-2.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 46.35416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABJ0AAASdAHeZh94AAABHElEQVQoz7XO226CQBQFUD+kKhSYC3OfOTMgggwqYlr71vT/P6UBm5gmpm9NdvbLyco+K8SUtIFpz7QXxlNp+dJMe+nqUsESVypQUGNumAYibYroNicrDeb61o7XdtcGqAI3QKUjQnMD0gVhQVjgZvbCBSxMqRzmOi0WbL38+qxuN+gOehrd+WTiYIejaVpV1VxbrgxHJd1k6CUp1q/onm1OZqxATh9+mFwTTby4/mSPFxdH5xspQfpGKyetV8bJZFm79w9GVumpYtHxFuSpYq3lHYje23GfA8eG54TmtMzpwzywCd2hn+r90HTHtp+6eIFdDHUfz+8ZYusUbzJyzxNcCJ9ilqBy/qcgKS63BUkQnVM8WfuF/z7/I/4GAVJccjYj15IAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <picture>
          <source srcset="/static/ab855168018c88e3fd179bd8f1252c39/a59e9/thenextjs-week-3-request-memoization-2.webp 192w,
/static/ab855168018c88e3fd179bd8f1252c39/0ca9f/thenextjs-week-3-request-memoization-2.webp 384w,
/static/ab855168018c88e3fd179bd8f1252c39/b4d04/thenextjs-week-3-request-memoization-2.webp 556w" sizes="(max-width: 556px) 100vw, 556px" type="image/webp">
          <source srcset="/static/ab855168018c88e3fd179bd8f1252c39/3b721/thenextjs-week-3-request-memoization-2.png 192w,
/static/ab855168018c88e3fd179bd8f1252c39/66595/thenextjs-week-3-request-memoization-2.png 384w,
/static/ab855168018c88e3fd179bd8f1252c39/68b51/thenextjs-week-3-request-memoization-2.png 556w" sizes="(max-width: 556px) 100vw, 556px" type="image/png">
          <img class="gatsby-resp-image-image" src="/static/ab855168018c88e3fd179bd8f1252c39/68b51/thenextjs-week-3-request-memoization-2.png" alt="server.jsì—ì„œ í•œ ë²ˆë§Œ ì‹¤í–‰ëœê±¸ í™•ì¸í•  ìˆ˜ ìˆëŠ” GET ìš”ì²­ì— ëŒ€í•œ ì½˜ì†” ë¡œê·¸" title="server.jsì—ì„œ í•œ ë²ˆë§Œ ì‹¤í–‰ëœê±¸ í™•ì¸í•  ìˆ˜ ìˆëŠ” GET ìš”ì²­ì— ëŒ€í•œ ì½˜ì†” ë¡œê·¸" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;">
        </picture>
  </a>
    </span>
  <figcaption>server.jsì—ì„œ í•œ ë²ˆë§Œ ì‹¤í–‰ëœ ê±¸ í™•ì¸í•  ìˆ˜ ìˆëŠ” GET ìš”ì²­ì— ëŒ€í•œ ì½˜ì†” ë¡œê·¸</figcaption>
</figure>
<figure>
  <span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 651px; ">
      <a class="gatsby-resp-image-link" href="/static/0e0f7e1b9c5d3950661b84751d5ea1f9/b7e05/thenextjs-week-3-request-memoization-3.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 136.97916666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAABJ0AAASdAHeZh94AAACnklEQVQ4y6VUS3LUMBCd41DcgeIG2ZALcBXukBuEbZawgwVV2QH5DVSYT2Y8tmXZ45/+sqQWJXuYEOKppIpXr7okV7f6uaXuycnJyWw2894rpYQQjHHWg1LqvT89fX90dHR8fPxmDBOttXPOWiulpJTO54vp9MfV1fX0Znp9fZNluGnaQ5zYPtKBs84aY6SQjHPBhRBCSsn5TsgoJtKaWkvwvpRcW6udLbVy/lmYKGd5p3mnpbOB1jyfE2ttua3auoH+BwZCKEPgsNhtB+wXzoXgzlisZWKkhqAXvLcAo/xXdqiW91GOv97+THCGEEJZJrUG7x2A8xBsH9k5Nx68LYrFfB5F0Xq1Wq/WSunH5TEwEuwMgLE2XBAPj4RzoZSSD6GUGskcbtl7xnmapFXdYJwjlIVTKGeMU7ojY2JctgFQStd1U5YVIVQIOUig4anuyLkYzxyCtSYtWS5XcZxijONNnKKs2JbDKQeD95mrqkYIJXGS47x/0oRS1udnlLIngsuqbgnlXEiptO6kVELIgUMtD8tWQfZ8vojWmwzh1SpKU5ShLEUYIVQU2ycy13WTpmkcJ3lexHFSllXbkrYNrde25InMZVlRxvtGVF1n/pY9KO/socxaty35dTuLog3O8HJxlyRpmqYYF1mGN5u4aYhxMJ5ZKFU2bZygdRxneR4naV03NIARQgkJmg7I9uCUNoR6bbzqvO6c0v3DYnsyxscLBuATTr+V+WVVXFbFRVUsSWNNmEoP8LgxtDXe+3e3Fy8+nb0+//jq/MPLz2dvv3/xfUvu/cD7Ay0JUGg55+RO0DtB55ykkod+Hpq5t9bDaEta6xw8nBIAYJwzznV2sLazbnADAOcGukm/cX9m1j1h8Nzb8GFwhPsZ5v8DvwEf8AYsqs0zOAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <picture>
          <source srcset="/static/0e0f7e1b9c5d3950661b84751d5ea1f9/a59e9/thenextjs-week-3-request-memoization-3.webp 192w,
/static/0e0f7e1b9c5d3950661b84751d5ea1f9/0ca9f/thenextjs-week-3-request-memoization-3.webp 384w,
/static/0e0f7e1b9c5d3950661b84751d5ea1f9/60c7d/thenextjs-week-3-request-memoization-3.webp 651w" sizes="(max-width: 651px) 100vw, 651px" type="image/webp">
          <source srcset="/static/0e0f7e1b9c5d3950661b84751d5ea1f9/3b721/thenextjs-week-3-request-memoization-3.png 192w,
/static/0e0f7e1b9c5d3950661b84751d5ea1f9/66595/thenextjs-week-3-request-memoization-3.png 384w,
/static/0e0f7e1b9c5d3950661b84751d5ea1f9/b7e05/thenextjs-week-3-request-memoization-3.png 651w" sizes="(max-width: 651px) 100vw, 651px" type="image/png">
          <img class="gatsby-resp-image-image" src="/static/0e0f7e1b9c5d3950661b84751d5ea1f9/b7e05/thenextjs-week-3-request-memoization-3.png" alt="ì œëŒ€ë¡œ ì ìš©ëœ title ë©”íƒ€ë°ì´í„°ì™€ í˜ì´ì§€ì—ì„œ ì¶œë ¥ëœ ë°ì´í„°" title="ì œëŒ€ë¡œ ì ìš©ëœ title ë©”íƒ€ë°ì´í„°ì™€ í˜ì´ì§€ì—ì„œ ì¶œë ¥ëœ ë°ì´í„°" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;">
        </picture>
  </a>
    </span>
  <figcaption>ì œëŒ€ë¡œ ì ìš©ëœ title ë©”íƒ€ë°ì´í„°ì™€ í˜ì´ì§€ì—ì„œ ì¶œë ¥ëœ ë°ì´í„°</figcaption>
</figure>
<ol start="4">
<li>Next.js ì•±ì´ ë¹Œë“œ ë˜ì–´ ê° ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•œ íŒŒì‹± ëœ htmlëŠ” ê¸°ë³¸ì ìœ¼ë¡œ [ë°ì´í„° ìºì‹œ, Data Cache]ì— ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥ë˜ëŠ” ë°ì´í„°ë¡œ, ë•Œë¬¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ê°’ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ í™”ë©´ì„ ê°±ì‹ í•˜ê¸° ìœ„í•´ì„œëŠ” ì´ë¥¼ ë¬´ë ¥í™”ì‹œì¼œì•¼ í•œë‹¤. [ë°ì´í„° ìºì‹œ]ë¥¼ ë¬´ë ¥í™”í•˜ê¸° ìœ„í•´ì„œ ëª©ì ì— ë”°ë¼ ë„¤ ê°€ì§€ ë°©ë²• ì¤‘ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•œë‹¤.</li>
</ol>
<p>â…°. ì²« ë²ˆì§¸ë¡œ, fetch APIë¥¼ ì‚¬ìš©í•  ë•Œ ì²« ë²ˆì§¸ url ê°’ ë‹¤ìŒ ë‘ ë²ˆì§¸ ì¸ìë¡œ <code>{ cache: ì˜µì…˜ }</code>ì„ ì „ë‹¬í•˜ì—¬ ë¬´ë ¥í™”í•˜ê³  <code>"no-store"</code> ì˜µì…˜ì„ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ìš”ì²­ì— ëŒ€í•œ ìºì‹œë¥¼ ì–¸ì œë‚˜ íšŒí”¼í•  ìˆ˜ ìˆë‹¤. <em><a href="https://developer.mozilla.org/ko/docs/Web/API/fetch#cache" target="_blank" rel="nofollow">MDN ë¬¸ì„œ (fetch#cache)</a></em></p>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fdata-cache.png&#x26;w=1920&#x26;q=75" alt="Data Cacheê°€ ë™ì‘í•˜ëŠ” ë°©ë²•"></p>
<p>â…±. ë‘ ë²ˆì§¸ëŠ” ë§ˆì°¬ê°€ì§€ë¡œ fetch APIë¥¼ ì‚¬ìš©í•  ë•Œ ë‘ ë²ˆì§¸ ì¸ìë¡œ <code>{ next: { revalidate: ì¬ê²€ì¦_ì‹œê°„ } }</code>ì„ ì „ë‹¬í•˜ì—¬ ëª‡ ì´ˆë§ˆë‹¤ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì„ ì¬ê²€ì¦í•  ê²ƒì¸ì§€ ì„¤ì •í•œë‹¤. <code>revalidate</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œë¥¼ ë¬´ë ¥í™”í•˜ëŠ” ë°©ë²•ì€ ì„¤ì •í•œ ì‹œê°„ì´ ì§€ë‚˜ê³  ìƒˆë¡œìš´ ìš”ì²­ì´ ë°œìƒí•˜ë©´ ì¬ê²€ì¦ì„ í•˜ëŠ” í•œ ë²ˆì˜ ìš”ì²­ì— ëŒ€í•´ ìºì‹œ ë˜ì–´ ìˆë˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ê³  ë‹¤ì‹œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ìºì‹œì— ì €ì¥í•˜ì—¬ ë‹¤ìŒ ìš”ì²­ì—ì„œ ë‹¤ì‹œ ìºì‹œ ëœ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´ ë°©ë²•ì€ ì´ë²¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¬ê²€ì¦í•˜ëŠ” ë°©ì‹ë³´ë‹¤ ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ”, ìµœì‹ ì„±ì´ ì¤‘ìš”í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Ftime-based-revalidation.png&#x26;w=1920&#x26;q=75" alt="ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ Data Cache ì¬ê²€ì¦"></p>
<p>â…². â€œnext/cacheâ€ íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” <code>revalidatePath(ê²½ë¡œ)</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬´ë ¥í™”ê°€ í•„ìš”í•œ URLì„ ì§ì ‘ ì§€ì •í•˜ì—¬ [ë°ì´í„° ìºì‹œ]ë¥¼ ì¬ê²€ì¦í•˜ì—¬ ìµœì‹  ìƒíƒœì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì´ í•¨ìˆ˜ì˜ ê²½ìš° ì§€ì •í•œ ê²½ë¡œì—ì„œ ë°œìƒí•˜ëŠ” ìš”ì²­ ê²°ê³¼ì— ëŒ€í•´ ëª¨ë‘ ë¬´ë ¥í™”í•œë‹¤.</p>
<p>RootLayoutì—ì„œ ìºì‹± ëœ ë°ì´í„°ëŠ” ìš”ì²­ ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ì¸í•´ â€œ/aâ€, â€œ/bâ€ë¡œ ì´ë™í•˜ë”ë¼ë„ ê°™ì€ API ê²½ë¡œë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ì— GET ìš”ì²­ì´ í•œ ë²ˆë§Œ ì „ë‹¬ëœ ê²ƒì„ í„°ë¯¸ë„ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ë•Œë¬¸ì— RootLayoutê³¼ page bì—ì„œ ì‚¬ìš©í•˜ëŠ” fetch APIê°€ ê°™ì„ ë•Œ, page bì—ì„œ <code>revalidatePath</code>ë¥¼ ì´ìš©í•˜ì—¬ ë£¨íŠ¸ ê²½ë¡œì˜ ë°ì´í„° ìºì‹œ ì¬ê²€ì¦ì„ ìš”ì²­í•˜ë©´ page bì˜ jsonë„ í•¨ê»˜ ë³€í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fdeduplicated-fetch-requests.png&#x26;w=1920&#x26;q=75" alt="ì»´í¬ë„ŒíŠ¸ë“¤ì—ì„œ ë°œìƒí•˜ëŠ” ë‹¤ìˆ˜ì˜ ìš”ì²­ì€ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ê°ê° ìš”ì²­ì„ í•œ ë²ˆë§Œ ì„œë²„ì— ì „ë‹¬í•œë‹¤"></p>
<p>í•˜ì§€ë§Œ page bì—ì„œ fetch API ì‚¬ìš© ì‹œ <code>next.revalidate</code> ì˜µì…˜ì„ ì¶”ê°€í–ˆì„ ë•Œì—ëŠ” RootLayoutì˜ jsonë§Œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì‚¬ì‹¤ RootLayoutì˜ json ì—­ì‹œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´ ë‹¤ì‹œ ë˜ëŒì•„ê°€ê²Œ ë˜ê³  Homeì—ì„œ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ [ë¼ìš°íŠ¸ ìºì‹œ]ë¥¼ ì´ˆê¸°í™”í•´ì•¼ë§Œ page bì—ì„œë„ ê°±ì‹ ëœ ë°ì´í„°ë¥¼ í‘œì‹œí•œë‹¤. ì´ëŸ° í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <code>revalidatePath("/", "layout")</code>ê³¼ ê°™ì´ ë‘ ë²ˆì§¸ typeì— ì„ íƒì ìœ¼ë¡œ ì¬ê²€ì¦í•  ê²½ë¡œ ìœ í˜•ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. ê²½ë¡œì— ë™ì  ì„¸ê·¸ë¨¼íŠ¸ê°€ í¬í•¨ëœ ê²½ìš° ë‘ ë²ˆì§¸ ì¸ìë¡œ â€œlayoutâ€ ê°’ì„ ì „ë‹¬í•˜ì—¬ ì¬ê²€ì¦ì„ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„° ì¶œë ¥ì„ ê°±ì‹ í•œë‹¤. <a href="https://nextjs.org/docs/app/api-reference/functions/revalidatePath#examples" target="_blank" rel="nofollow">(ì˜ˆì‹œ)</a></p>
<p>â…³. fetch APIì˜ ë‘ ë²ˆì§¸ ì¸ìë¡œ <code>{ next: { tags: [...íƒœê·¸(ë“¤)] } }</code>ì„ ì „ë‹¬í•˜ê³  ë§ˆì°¬ê°€ì§€ë¡œ â€œnext/cacheâ€ íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” <code>revalidateTags(íƒœê·¸)</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” íƒœê·¸ë¥¼ ê°€ì§„ ìš”ì²­ì— ëŒ€í•œ ë°ì´í„° ìºì‹œë¥¼ ë¬´ë ¥í™”í•  ìˆ˜ ìˆë‹¤.</p>
<p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fon-demand-revalidation.png&#x26;w=1920&#x26;q=75" alt="ê²½ë¡œ ì£¼ë¬¸í˜• ì¬ê²€ì¦ì„ ì´ìš©í•œ Data Cache ë¬´ë ¥í™”"></p>
<p><code>next.tags</code> ì˜µì…˜ì€ ë°°ì—´ í˜•íƒœë¡œ ë‘ ê°œ ì´ìƒì˜ íƒœê·¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì§€ë§Œ <code>revalidateTag</code> í•¨ìˆ˜ëŠ” string typeì˜ í•˜ë‚˜ì˜ ë§¤ê°œ ë³€ìˆ˜ë§Œì„ ë°›ëŠ”ë‹¤.</p>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">revalidateTag</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">tag</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">: </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">string</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">): </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">void</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span></code></pre>
<p>ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ê³  revalidateTagë¥¼ ì´ìš©í•˜ì—¬ ë¬´ë ¥í™”í•œ ê²½ìš° RootLayoutì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë°ì´í„°ì™€ ê°™ì€ APIì˜ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ì˜¤ì§€ë§Œ page aì—ì„œì˜ ë°ì´í„°ë§Œ ê°±ì‹ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9c9cd7b9a5f328090af70e7298b3ca53/6648e/thenextjs-week-3-revalidate-tag.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 76.04166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAABJ0AAASdAHeZh94AAACFUlEQVQoz4WSS2sUQRRG5/fqJntX7lyI67jQlRtB0H8QUVDBJEqimYTEIU5PP6q66/3q7qpbV3p68kAQLx+1aDh851bXooc4QgoxDpDsOADmv+KvPrUH++zjS/LhBXv/fHn0bu/n1wcnnx9ffFv0cdTeDymNGQZIEeA2I0ACGHRrmitHV5auHPkleflDixPJLoxcxBiV1CH0Qz/EMY5jjNukmHLOKo0uAyLme9lNzouUouBCStV1zFrnnLfWGWO994h4vlmvyk1ZlmHoM+K8SEKMeVJbxJi0NpS2UikhpJTqBg6IqJTqKK3r2jmfYoo3kyAngEVKE1wUm7ppmoYIIefyGTbWCiGV0lqbWylj7BgTwKSdlFKEUCnVHCEk58I7nxF9CC3tGONSTh+1NtY6a92YEkzNkDUtN6df6vPj6uyIU8KlmmAfMqLzgTSkqmpCCGN8uhTvnXVTc4a5WTPOtbbW7KxmyRmmDenaVnAuxHR0HdNKjynd7Xx9/buq6mJdUNp1HaO01dogonOWXp5Uy0OyPBRNKZUWQk47z9oxRq3NXGi2v2q+mBC22s5PO3MxY0ppuc2uGQDyvQHYZZqtdlXX62KzqcqGEM5l1zHGxB2M/5iMGEIfXBj6YegH78Ps5b2ftPO/4ekZZtg/ePXw9ZO9N08fvX1mnETE2TTl/J9mzHDZrI7XZ9+L5Wlx3scBENNMbuE/QhZUMAeDVhIAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/9c9cd7b9a5f328090af70e7298b3ca53/a59e9/thenextjs-week-3-revalidate-tag.webp 192w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/0ca9f/thenextjs-week-3-revalidate-tag.webp 384w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/dc9b9/thenextjs-week-3-revalidate-tag.webp 768w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/1dd27/thenextjs-week-3-revalidate-tag.webp 948w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/9c9cd7b9a5f328090af70e7298b3ca53/3b721/thenextjs-week-3-revalidate-tag.png 192w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/66595/thenextjs-week-3-revalidate-tag.png 384w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/fe486/thenextjs-week-3-revalidate-tag.png 768w,
/static/9c9cd7b9a5f328090af70e7298b3ca53/6648e/thenextjs-week-3-revalidate-tag.png 948w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/9c9cd7b9a5f328090af70e7298b3ca53/fe486/thenextjs-week-3-revalidate-tag.png"
            alt="ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ê³  revalidateTagë¥¼ ì´ìš©í•˜ì—¬ ë¬´ë ¥í™”í•œ ê²½ìš° RootLayoutì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë°ì´í„°ì™€ ê°™ì€ APIì˜ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ì˜¤ì§€ë§Œ page aì—ì„œì˜ ë°ì´í„°ë§Œ ê°±ì‹ ë˜ê³  ìˆë‹¤."
            title="ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ê³  revalidateTagë¥¼ ì´ìš©í•˜ì—¬ ë¬´ë ¥í™”í•œ ê²½ìš° RootLayoutì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë°ì´í„°ì™€ ê°™ì€ APIì˜ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ì˜¤ì§€ë§Œ page aì—ì„œì˜ ë°ì´í„°ë§Œ ê°±ì‹ ë˜ê³  ìˆë‹¤."
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<blockquote>
<p><code>revalidateTag</code>ì™€ <code>revalidatePath</code>ëŠ” ëª¨ë‘ ì„œë²„ ì•¡ì…˜ìœ¼ë¡œ, ì •ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìŠ¤í† ì–´ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— <code>â€œuse serverâ€</code> í‚¤ì›Œë“œê°€ í•„ìš”í•˜ë‹¤. ë•Œë¬¸ì— ë‘ í•¨ìˆ˜ë¥¼ buttonì„ í´ë¦­í–ˆì„ ë•Œ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ë‚´ì—ì„œ ì‹¤í–‰í•˜ë ¤ê³  í•˜ë©´ <code>â€œuse serverâ€</code> ì„ ì–¸ì´ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ì—†ëŠ” íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ src/libs/action.ts íŒŒì¼ì—ì„œ ë‚´ë¶€ì— <code>â€œuse serverâ€</code> ì„ ì–¸ì„ í•œ í›„ ì•¡ì…˜ í•¨ìˆ˜ë¥¼ ì •ì˜ í›„ ë‚´ë³´ë‚´ê¸° í•˜ì—¬ <code>&#x3C;form action={ì•¡ì…˜í•¨ìˆ˜}>&#x3C;/form></code>ì— í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì“´ë‹¤. ì´ë•Œ ì„œë²„ ì•¡ì…˜ì€ ë¹„ë™ê¸° í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤.</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d35834486ef21f7d66fb987222407f40/823f8/thenextjs-week-3-no-inline-use-server.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 142.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACuElEQVRIx4XV21IiQRAEUJ5BEUXFuyCooHj9/39r41RsTgy4sftQ0/esrKzqnsFkMmm3t7ft/v6+PT09tcVi0R4fH9tyuWwPDw/VGs/n83Z3d9dms1k7OjpqzsWMz8/P28XFRRucnp52A2DAtQD0+3Z9fV37ptNpcy5mDIMNfFarVR3giY3H4x3L3D6zk5OTagHqs8Hx8XG7ubmp8DC4vLys8dXVVTnC1FxY2yN0hq2272QAFTtaOUDH19fX9vLy0rbbbRlgY/P0tOf5+bnMGiDEWGn49vbWLWLKM/HPzs5KF3uMzRtHM2Mgh4eHJUcB+gDhlQlBiMwhIbIkL5JkTXWIkMMKmTcLJjHcbDYVHsZC5OT9/b1CXa/XtUffGjlExxDBciCsj4+Prv6wBWgMIOz1kxhzxgDjGKkO0EREBooFEAcDbJzkAEr2AZGAJH+yPC0dUFYqNtCjnwQHOTYOkPWDg4POuqRAzSEGNNmlq36YAEky9DHLDUqRd3UoJAkhsFbokmFemMImibmvr6/S3fz393dJxnGX5c/Pz9pokwLPTcgdjhwY6Qubtn2WHUNx54pZ5Gk4HO7oMxqNfrVMQaftbkr/HkZ4HukWhtjQSRtGDGsJdc7jUYCoOkyr6EITOtJHiaRUyJKCzrw9yXwB0jBFKhG5NdjkfczLk9ukPqNx/92s58sn1Y92X5v0M6YffdM33383Kyk+ssUDffIWxmv/gUiWs5d2ScZOUvJQCpFGuc+pQy1NrZvPNYxuO++hQTKINrAY8DyqWDvAef4lqY4+aNWhxNiY/4NSAIA1Z+ZzX/v/lbDaYeiTh8BmugDMU5UsRtt9zfpgXcj0AJCQXD9jWuUfknLKFdsH3gHMH09G9bUO0jRlk1/pvma/AH3iHbskRAbp+bdD/2Tow7us0W//p/4/gH3AHwS52OqiLWojAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/d35834486ef21f7d66fb987222407f40/a59e9/thenextjs-week-3-no-inline-use-server.webp 192w,
/static/d35834486ef21f7d66fb987222407f40/0ca9f/thenextjs-week-3-no-inline-use-server.webp 384w,
/static/d35834486ef21f7d66fb987222407f40/dbefe/thenextjs-week-3-no-inline-use-server.webp 474w"
              sizes="(max-width: 474px) 100vw, 474px"
              type="image/webp"
            />
          <source
            srcset="/static/d35834486ef21f7d66fb987222407f40/3b721/thenextjs-week-3-no-inline-use-server.png 192w,
/static/d35834486ef21f7d66fb987222407f40/66595/thenextjs-week-3-no-inline-use-server.png 384w,
/static/d35834486ef21f7d66fb987222407f40/823f8/thenextjs-week-3-no-inline-use-server.png 474w"
            sizes="(max-width: 474px) 100vw, 474px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/d35834486ef21f7d66fb987222407f40/823f8/thenextjs-week-3-no-inline-use-server.png"
            alt="It is not allowd to define inline &quot;use server&quot; annotated Server Actions in Client Component"
            title="It is not allowd to define inline &quot;use server&quot; annotated Server Actions in Client Component"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 464px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/013db86a8fc64a8530acf77b22097e77/0359b/thenextjs-week-3-async-action-fn.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 87.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB3UlEQVQ4y3XTV44jMQwE0D6AwzjnnLPh+99NiyeADXkw+0GIoshiMaj6+flJw+EwTSaTNBqNUr/fz/fpdJp1NjIYDLI9zvF4nGPc2+126nQ6WSoXxsPhkK7Xazoej+l0OqXn81mft9stv38+n3Q+n7N+v9+zvzcJWq1WBq6AyRRAHMjlcknv9zsHErbX61Wfj8cj+0RCjAFXi8WidgK42WzSarXKLPb7fdputzmh+3q9TrvdLienk/Cha1MFFQBpNBpJT/Wi1+tlcXfqp2ro3W63tpNms/ldMjBMPdJl1C9sZcU8SlQ+huze9VSCeiioRoM5Ki0CZMWEyB7y2xb3DEjBDkA8lA5/SflesmOrKLPZLAPKpgzTxTxK1XiiZLZYMW+GZMJfgDEh09ZDUxW8XC5zYLku+gtAYkTm83k9pBqQkaOJY2k4GAHHQOPpAssJO0uw3EMggmQ0cYPgrCzlxWJHufwQiO9W9joz9E+xQ18Q5/jbdk95hB977ORfYDVDWSNIAMZKBu7+ezX+twFfDDGKvcIWICactKEUP6OU2NfMEGAwjL44w25HTdsmxGnxY5WQKSddRZ84AwnqHEw2VoNuteJrOiUUx6cGjC8EWL/KfsSHj1JDjzJLe5T8D/UC08KAs6S2AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/013db86a8fc64a8530acf77b22097e77/a59e9/thenextjs-week-3-async-action-fn.webp 192w,
/static/013db86a8fc64a8530acf77b22097e77/0ca9f/thenextjs-week-3-async-action-fn.webp 384w,
/static/013db86a8fc64a8530acf77b22097e77/3fd41/thenextjs-week-3-async-action-fn.webp 464w"
              sizes="(max-width: 464px) 100vw, 464px"
              type="image/webp"
            />
          <source
            srcset="/static/013db86a8fc64a8530acf77b22097e77/3b721/thenextjs-week-3-async-action-fn.png 192w,
/static/013db86a8fc64a8530acf77b22097e77/66595/thenextjs-week-3-async-action-fn.png 384w,
/static/013db86a8fc64a8530acf77b22097e77/0359b/thenextjs-week-3-async-action-fn.png 464w"
            sizes="(max-width: 464px) 100vw, 464px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/013db86a8fc64a8530acf77b22097e77/0359b/thenextjs-week-3-async-action-fn.png"
            alt="Server actions must be async functions"
            title="Server actions must be async functions"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="tsx" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">//(ì˜ˆì‹œ)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// app/**/page.tsx</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">page</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">action</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">onDemandRevalidate</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">click</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// libs/action.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">onDemandRevalidate</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">revalidatePath</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// OR</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">//revalidateTag(&#39;realtime&#39;)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<h3 id="mongodb-ì—°ê²°-w-mongoose" style="position:relative;">MongoDB ì—°ê²° (w/ mongoose)<a href="#mongodb-%EC%97%B0%EA%B2%B0-w-mongoose" aria-label="mongodb ì—°ê²° w mongoose permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><strong>ìŠ¤í‚¤ë§ˆ CRUD</strong></p>
<ul>
<li>ë¨¼ì €, <code>mongoose.connect</code>ë¥¼ ì´ìš©í•˜ì—¬ MongoDBì— ì—°ê²°í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤. ì´ë¯¸ ì—°ê²°ëœ ê²½ìš° ë˜ë‹¤ì‹œ ì—°ê²°í•˜ì§€ ì•Šë„ë¡ <code>mongoose.connection.readyState</code> ê°’ì„ í™•ì¸í•˜ì—¬ return í•œë‹¤.</li>
</ul>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/db.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;mongoose&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">connectDB</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> () </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">try</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">connection</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">readyState</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">&gt;=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-7 grvsc-t9ljLd-4">1</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">console</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">log</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;Already conencted to MongoDB&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">connect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">process</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">env</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">MONGODB_URL</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">as</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">string</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">console</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">log</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;MongoDB connected&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">catch</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">e</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// error handling</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">process</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-15">exit</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-7 grvsc-t9ljLd-4">1</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">connectDB</span></span></span></code></pre>
<ul>
<li>ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•˜ì—¬ ë‚´ë³´ë‚¸ë‹¤. ì´ë¯¸ ìƒì„±ëœ ìŠ¤í‚¤ë§ˆê°€ ë‹¤ì‹œ ìƒì„±ë˜ì§€ ì•Šë„ë¡ <code>mongoose.models</code>ì—ì„œ í•´ë‹¹ ìŠ¤í‚¤ë§ˆë¥¼ ì°¾ì•„ ì‚¬ìš©í•˜ê±°ë‚˜ ì—†ëŠ” ê²½ìš°ì—ë§Œ <code>mongoose.model(ì´ë¦„, ìŠ¤í‚¤ë§ˆ)</code>ë¡œ ìƒì„±í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li>
</ul>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/schema.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;mongoose&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">option</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">userSchema</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">new</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Schema</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">type:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">String</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">required:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">true</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">type:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">String</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">required:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">true</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">match:</span><span class="grvsc-tlfloc-5 grvsc-t9ljLd-11"> /</span><span class="grvsc-tlfloc-5 grvsc-t9ljLd-4">.</span><span class="grvsc-tlfloc-6 grvsc-t9ljLd-7">+</span><span class="grvsc-tlfloc-6 grvsc-t9ljLd-4">\@</span><span class="grvsc-tlfloc-5 grvsc-t9ljLd-4">.</span><span class="grvsc-tlfloc-6 grvsc-t9ljLd-7">+</span><span class="grvsc-tlfloc-6 grvsc-t9ljLd-4">\.</span><span class="grvsc-tlfloc-5 grvsc-t9ljLd-4">.</span><span class="grvsc-tlfloc-6 grvsc-t9ljLd-7">+</span><span class="grvsc-tlfloc-5 grvsc-t9ljLd-11">/</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">type:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">String</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">enum:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> [</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;admin&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;user&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">option</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">models</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">?.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">||</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">mongoose</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">model</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;User&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">userSchema</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span></code></pre>
<ul>
<li>ì´ë ‡ê²Œ ìƒì„±í•œ ìŠ¤í‚¤ë§ˆì˜ ì¿¼ë¦¬ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ë“± CRUD ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. <a href="https://mongoosejs.com/docs/api/query.html" target="_blank" rel="nofollow">(ì°¸ê³ )</a></li>
</ul>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// Create</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">new</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;user&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}).</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">save</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// Read</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">find</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">findOne</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }).</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">select</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;+password +role&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// Update</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">findByIdAndUpdate</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// Delete</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">findByIdAndDelete</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span></code></pre>
<p><strong>ì‚¬ìš©ì ì¸ì¦</strong></p>
<ul>
<li>
<p><em>(ì°¸ê³ ) Authentication verifies your identity. Authorization determines what you can access.</em></p>
<ul>
<li>ì¸ì¦(Authentication; ì¸ì¦, ì…ì¦; â‰’verification)ì€ ì‚¬ìš©ìì˜ ì‹ ì›ì„ í™•ì¸í•˜ê³ ,</li>
<li>ì¸ì¦ ì´í›„ ì¸ê°€(Authorization; í—ˆê°€, ì¸ê°€; â‰’permission) ëœ ë²”ìœ„ì— ë”°ë¼ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í•­ëª©ì„ ê²°ì •í•œë‹¤.</li>
</ul>
</li>
<li>
<p>ğŸ–‡ï¸</p>
<ul>
<li><a href="https://authjs.dev/getting-started/installation" target="_blank" rel="nofollow">Installation of Auth.js(NextAuth.js v5)</a></li>
<li><a href="https://github.com/callmebyneon/next-auth" target="_blank" rel="nofollow">ì˜ˆì‹œ ì½”ë“œ (repo): next-auth</a></li>
</ul>
</li>
<li>
<p>Next.js ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œ <a href="https://authjs.dev/reference/nextjs" target="_blank" rel="nofollow">NextAuth.js</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¸ì¦ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê³  ìˆë‹¤.</p>
</li>
</ul>
<p>ğŸ“œ <a href="https://nextjs.org/learn/dashboard-app/adding-authentication#nextauthjs" target="_blank" rel="nofollow">nextjs - adding authentication using NextAuth.js</a></p>
<ul>
<li>(ì„¤ì •)</li>
</ul>
<ol>
<li><code>next-auth@beta</code> íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  <code>npx auth secret</code> í˜¹ì€ openssl ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ë¹„ë°€ í‚¤ë¥¼ ìƒì„±í•œë‹¤. ìƒì„±ëœ í‚¤ë¥¼ <code>.env</code> íŒŒì¼ì— ì¶”ê°€í•œë‹¤. <em><a href="https://blog.kesuskim.com/archives/install-openssl-by-os/" target="_blank" rel="nofollow">(openssl ìœˆë„ìš° ì„¤ì¹˜ ì°¸ê³ )</a></em></li>
<li><code>src</code> ë£¨íŠ¸ ìœ„ì¹˜ì— <code>auth.ts</code>ì„ ì¶”ê°€í•˜ê³  <code>app/api/auth/[...nextauth]/route.ts</code> ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ NextAuth.jsì˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì•± ë¼ìš°í„°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“ ë‹¤.</li>
<li>í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì„¸ì…˜ ë§Œë£Œë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” <code>src</code> ë£¨íŠ¸ ê²½ë¡œì— ë¯¸ë“¤ì›¨ì–´ íŒŒì¼ì„ ì¶”ê°€í•œë‹¤.</li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/auth.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">NextAuth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;next-auth&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">handlers</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signIn</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signOut</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">NextAuth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">providers:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> [</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">callbacks:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">},</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">})</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">//@/app/api/auth/[...nextauth]/route.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">handlers</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/auth&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">GET</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">POST</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">handlers</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/middleware.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">as</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">middleware</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/auth&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span></code></pre>
<ul>
<li>íšŒì›ê°€ì…</li>
</ul>
<ol>
<li><strong>íšŒì›ê°€ì…</strong>ì„ ìœ„í•´ì„œ 1ï¸âƒ£ìš°ì„  ìˆëŠ” íšŒì›ì¸ì§€ ì¡°íšŒí•˜ê³ , 2ï¸âƒ£ì—†ëŠ” íšŒì›ì´ë©´ DBì— ì €ì¥ í›„ ì™„ë£Œ í˜ì´ì§€ í˜¹ì€ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚¨ë‹¤.</li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/action.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;use server&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;next/navigation&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">connectDB</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;./db&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;./schema&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">hash</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;bcryptjs&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">register</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">FormData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;name&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;email&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;password&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">===</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">||</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">===</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">||</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">===</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì˜ˆì™¸ì²˜ë¦¬</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">connectDB</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ìˆëŠ” íšŒì›ì¸ì§€ ì¡°íšŒ</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">existingUser</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">findOne</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">existingUser</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì˜ˆì™¸ì²˜ë¦¬</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì—†ëŠ” íšŒì›ì¸ ê²½ìš° DBì— ì €ì¥</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">hashedPassword</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">hash</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">String</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">), </span><span class="grvsc-tlfloc-7 grvsc-t9ljLd-4">10</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// bcryptjs hash í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ í•´ì‹œê°’ ì €ì¥</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">newUser</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">new</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">hashedPassword</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">newUser</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">save</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/login&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<ul>
<li>ë¡œê·¸ì¸ ì„¸ì…˜</li>
</ul>
<ol>
<li><strong>NextAuthConfig</strong>: ë¡œê·¸ì¸ credentials í”„ë¡œë°”ì´ë”ì™€ signIn ì½œë°± í•¨ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.</li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/auth.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">handlers</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signIn</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signOut</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Partial</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">NextAuthResult</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">&gt; </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">NextAuth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">providers:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> [</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">Credentials</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;Credentials&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">credentials:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">label:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;Email&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">label:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;Password&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">type:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;password&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">authorize</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">credentials</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">credentials</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">connectDB</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ìœ íš¨í•œ ì‚¬ìš©ì ì •ë³´ íƒìƒ‰</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">User</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">findOne</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }).</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">select</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;+password +role&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">!</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">throw</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">new</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">CredentialSignin</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤.&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ì™€ DB hash ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">isMatched</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">compare</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">String</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">), </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">!</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">isMatched</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">throw</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">new</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">CredentialsSignin</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ìœ íš¨í•œ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">_id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  ],</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">callbacks:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">signIn</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> ({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">account</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }) </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ë¡œì§+</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// credential í†µê³¼</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">true</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">})</span></span></span></code></pre>
<ol start="2">
<li><strong>ë¡œê·¸ì¸ ì•¡ì…˜</strong>ì„ ì‘ì„±í•˜ê³  ë¡œê·¸ì¸ form actionì— ì‚¬ìš©í•œë‹¤. sns ë¡œê·¸ì¸ì˜ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€ë¡œ NextAuth ì„¤ì •ì—ì„œ providersì— ì¶”ê°€í•˜ê³  ì¶”ê°€í•œ providerë¥¼ ì‚¬ìš©í•˜ëŠ” signInì„ ì´ìš©í•˜ì—¬ ì•¡ì…˜ì„ ì¶”ê°€í•´ ì‚¬ìš©í•œë‹¤. <em><a href="https://authjs.dev/getting-started/providers/github" target="_blank" rel="nofollow">(ì˜ˆ: Github Provider)</a></em></li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/action.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signIn</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/auth&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">login</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">FormData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;email&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">formData</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">get</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;password&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">===</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">||</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">===</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">try</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// authorizeë¡œ email, passwordë¥¼ ì „ë‹¬</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">signIn</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;credentials&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">redirect:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-4">false</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">callbackUrl:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">email</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">password</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">catch</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">e</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// ì˜¤ë¥˜ ì²˜ë¦¬</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="tsx" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/components/LoginForm.tsx</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">githubLogin</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">login</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/libs/action&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">Link</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;next/link&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">LoginForm</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">action</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">login</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">className</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;flex flex-col gap-2 justify-start w-80 mt-4&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">input</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">type</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;email&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;email&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">placeholder</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;YourEmail@example.com&quot;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">input</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">type</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;password&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">name</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;password&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">          </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">placeholder</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;Enter Your Password&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">Log In</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      ...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<ol start="3">
<li><strong>ì„¸ì…˜ ê°’ í™•ì¥ ì„¤ì •</strong>: <code>@/auth.ts</code>ì—ì„œ NextAuthì—ì„œ ë‚´ë³´ëƒˆë˜ <code>auth</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¸ì…˜ì„ ê°€ì ¸ì˜¤ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê³  í•„ìš”í•œ ìœ„ì¹˜ì—ì„œ ì‚¬ìš©í•œë‹¤.</li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/getSession.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/auth&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getSession</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> () </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<p>NextAuth config ê°ì²´ ì½œë°±ì—ì„œ ì‚¬ìš©ì ìœ í˜•(role)ì„ ì„¸ì…˜ì— ì €ì¥í•˜ì—¬ admin role ì‚¬ìš©ìë§Œ dashboardì— ì ‘ê·¼í•˜ë„ë¡ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.</p>
<p><em><a href="https://authjs.dev/guides/extending-the-session" target="_blank" rel="nofollow">(ì°¸ê³ ) Auth.js/guides - Extending the session</a></em></p>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/auth.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { ..., </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">auth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">NextAuth</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">callbacks</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">: {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">signIn</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> ({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">account</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }) </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">},</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">jwt</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> ({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }) </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">; </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// JWT í† í°ì— ì‚¬ìš©ì ê¶Œí•œ ì¶”ê°€</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">; </span><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// JWT í† í°ì— ì‚¬ìš©ì ID ì¶”ê°€</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">session</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> ({ </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> }) </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">=&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">?.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">        </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">token</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">id</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    },</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">})</span></span></span></code></pre>
<p><em><a href="https://authjs.dev/guides/extending-the-session" target="_blank" rel="nofollow">(ì°¸ê³ ) Auth.js/guides - Using the role</a></em></p>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="tsx" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/(admin)/layout.tsx</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">getSession</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/libs/getSession&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;next/navigation&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">AdminLayout</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-19 grvsc-t9ljLd-i">children</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">children</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">React</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">ReactNode</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">const</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-5 grvsc-t9ljLd-u">Session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">|</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-10 grvsc-t9ljLd-15 grvsc-t9ljLd-i">null</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">getSession</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">!</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/login&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">else</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">if</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">session</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">user</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">?.</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">role</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">!==</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;admin&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">) </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">redirect</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">(</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/dashboard&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;&gt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">children</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<ol start="4">
<li><code>@/auth.ts</code>ì—ì„œ NextAuthì—ì„œ ë‚´ë³´ëƒˆë˜ <code>signOut</code>ì„ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì•„ì›ƒ ì•¡ì…˜ì„ ì‘ì„±í•˜ì—¬ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì„¸ì…˜ì„ ì‚­ì œí•˜ë„ë¡ í•œë‹¤.</li>
</ol>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="ts" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-3 grvsc-t9ljLd-3">// @/libs/action.ts</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">import</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> { </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signIn</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">, </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">signOut</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> } </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">from</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;@/auth&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">logout</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">await</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">signOut</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">({</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">redirectTo:</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&#39;/login&#39;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span></code></pre>
<pre class="grvsc-container dark-default-dark grvsc-ps-t9ljLd" data-language="tsx" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">export</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">default</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">async</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-15 grvsc-t9ljLd-i">function</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-11 grvsc-t9ljLd-6">RootLayout</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  </span><span class="grvsc-tlfloc-15 grvsc-t9ljLd-7">return</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">action</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">{</span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-1">logout</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-1">}</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">      </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1"> </span><span class="grvsc-tlfloc-12 grvsc-t9ljLd-6">className</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">=</span><span class="grvsc-tlfloc-8 grvsc-t9ljLd-11">&quot;px-4&quot;</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">Log out</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">button</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&lt;/</span><span class="grvsc-tlfloc-4 grvsc-t9ljLd-7">form</span><span class="grvsc-tlfloc-17 grvsc-t9ljLd-1">&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">    </span><span class="grvsc-tlfloc-1 grvsc-t9ljLd-7">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-tlfloc-1 grvsc-t9ljLd-1">}</span></span></span></code></pre>
<blockquote>
<p>íšŒì› íƒˆí‡´ ê°™ì€ ê²½ìš° <code>User.findByIdAndDelete</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê°œì¸ì •ë³´ë³´í˜¸ ì°¨ì›ì—ì„œëŠ” íƒˆí‡´í•œ ì‚¬ìš©ìì˜ ëª¨ë“  ì •ë³´ê°€ DBì—ì„œ ì‚­ì œë˜ì–´ì•¼ í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆëŠ” ë°˜ë©´, íƒˆí‡´í•œ íšŒì›ì˜ ì •ë³´ ì—­ì‹œ ë°”ë¡œ í…Œì´ë¸”ì—ì„œ ì‚­ì œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì„¤ê³„ì— ë”°ë¼ ê° íšŒì›ë“¤ì´ ì„¤ì •í•œ íšŒì› ì •ë³´ ë³´ê´€ ì •ì±… ê¸°ê°„ ë™ì•ˆ ë¹„í™œì„±í™”ê°€ í•„ìš”í•˜ê±°ë‚˜ ì¼ì • ê¸°ê°„ ê´€ë¦¬ìì˜ ì‹¤ìˆ˜ë¡œ ì¸í•´ ë°ì´í„° ë°±ì—…ì´ í•„ìš”í•œ ê²½ìš° ë“±ì— ë”°ë¼ ì¼ë¶€ ë°ì´í„° ë°±ì—… ë¡œì§ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<hr>
<p>ë³¸ í›„ê¸°ëŠ” ë³¸ í›„ê¸°ëŠ” [ìœ ë°ë¯¸xìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬] í”„ë¡œì íŠ¸ ìº í”„ : Next.js 1ê¸° ê³¼ì •(B-log) ë¦¬ë·°ë¡œ ì‘ì„± ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>#ìœ ë°ë¯¸ #udemy #ì›…ì§„ì”½í¬ë¹… #ìŠ¤ë‚˜ì´í¼íŒ©í† ë¦¬ #ì¸ì‚¬ì´ë“œì•„ì›ƒ #ë¯¸ë˜ë‚´ì¼ì¼ê²½í—˜ #í”„ë¡œì íŠ¸ìº í”„ #ë¶€íŠ¸ìº í”„ #Next.js #í”„ë¡ íŠ¸ì—”ë“œê°œë°œìì–‘ì„±ê³¼ì • #ê°œë°œìêµìœ¡ê³¼ì •</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .dark-default-dark {
    background-color: #1E1E1E;
    color: #D4D4D4;
  }
  .dark-default-dark .grvsc-tlfloc-3 { color: #6A9955; }
  .dark-default-dark .grvsc-tlfloc-8 { color: #CE9178; }
  .dark-default-dark .grvsc-tlfloc-15 { color: #C586C0; }
  .dark-default-dark .grvsc-tlfloc-1 { color: #D4D4D4; }
  .dark-default-dark .grvsc-tlfloc-12 { color: #9CDCFE; }
  .dark-default-dark .grvsc-tlfloc-4 { color: #569CD6; }
  .dark-default-dark .grvsc-tlfloc-10 { color: #4EC9B0; }
  .dark-default-dark .grvsc-tlfloc-11 { color: #DCDCAA; }
  .dark-default-dark .grvsc-tlfloc-17 { color: #808080; }
  .dark-default-dark .grvsc-tlfloc-7 { color: #B5CEA8; }
  .dark-default-dark .grvsc-tlfloc-5 { color: #D16969; }
  .dark-default-dark .grvsc-tlfloc-6 { color: #D7BA7D; }
  .dark-default-dark .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
  html[data-theme=dark] .grvsc-ps-t9ljLd { background-color: #000c18; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-u {
    text-decoration: underline;
    text-underline-position: under;
  }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-i { font-style: italic; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-3 { color: #384887; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-11 { color: #22AA44; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-7 { color: #225588; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-1 { color: #6688CC; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-15 { color: #9966B8; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-5 { color: #FFEEBB; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-6 { color: #DDBB88; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-4 { color: #F280D0; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-t9ljLd-19 { color: #2277FF; }
  html[data-theme=dark] .grvsc-ps-t9ljLd .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div></div><style data-emotion="css 1gpb19f">.css-1gpb19f{margin-top:80px;}@media (max-width: 768px){.css-1gpb19f{padding:0 20px;}}</style><div class="css-1gpb19f e1gqsjds0"></div></div></div><style data-emotion="css 1ge4qt5">.css-1ge4qt5{position:fixed;bottom:2rem;right:1.4rem;font-size:1.25rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;z-index:var(--z-fixed);}</style><div class="css-1ge4qt5 e1gsr1520"><style data-emotion="css ftwdaa">.css-ftwdaa{all:unset;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;font-size:inherit;width:3rem;height:3rem;border:2px solid;border-radius:50%;box-sizing:border-box;background:rgba(246, 246, 246, 0.8);-webkit-backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);-webkit-transition:200ms all;transition:200ms all;}@media (hover: hover){.css-ftwdaa:hover{-webkit-transform:translateY(-10%);-moz-transform:translateY(-10%);-ms-transform:translateY(-10%);transform:translateY(-10%);}}</style><button title="go to top of this page" class="css-ftwdaa e1761bku0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up" class="svg-inline--fa fa-arrow-up " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"></path></svg></button></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day ğŸ˜†<!-- --><br/>Â© 2022 Developer ë‚˜ì—°, Powered By Gatsby.<!-- --></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2024-06-15/thenextjs-week-3/";window.___webpackCompilationHash="37071d6100d8b47f4402";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9fa82aa5b1f9c65f078.js"],"app":["/app-97cfdd89ca6817d9e2dc.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-68719473ce28ca8ea34e.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-c8fec347b2d835ea77d8.js"],"component---src-pages-projects-tsx":["/component---src-pages-projects-tsx-dd8002d9d0b43a7109fa.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-c4b9d383fc5a245a7395.js"]};/*]]>*/</script><script src="/polyfill-c9fa82aa5b1f9c65f078.js" nomodule=""></script><script src="/app-97cfdd89ca6817d9e2dc.js" async=""></script><script src="/framework-c45ea1cbb39153ed5c73.js" async=""></script><script src="/webpack-runtime-6d5dc3dce7d92eaaed75.js" async=""></script></body></html>